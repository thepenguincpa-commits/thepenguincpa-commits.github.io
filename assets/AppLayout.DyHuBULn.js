import{F as m,r as a,t as $,f as C,o as I,a1 as V,R as q,u as A,j as s,s as B,aN as U,aU as L}from"./index.WsYO2dy-.js";import{a as u,s as i}from"./LayoutContainer.CsWPLRk4.js";import{M as D}from"./index.BAyObCzF.js";import{I as g}from"./AntdIcon.vojNxC2w.js";import{B as T}from"./button.B3PsbA3S.js";var d={},S;function W(){if(S)return d;S=1,Object.defineProperty(d,"__esModule",{value:!0});var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};return d.default=e,d}var J=W();const Q=m(J);function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}const X=(e,t)=>a.createElement(g,M({},e,{ref:t,icon:Q})),Y=a.forwardRef(X);var f={},k;function Z(){if(k)return f;k=1,Object.defineProperty(f,"__esModule",{value:!0});var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"};return f.default=e,f}var ee=Z();const te=m(ee);function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}const ne=(e,t)=>a.createElement(g,x({},e,{ref:t,icon:te})),re=a.forwardRef(ne);var h={},E;function se(){if(E)return h;E=1,Object.defineProperty(h,"__esModule",{value:!0});var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"};return h.default=e,h}var ie=se();const ae=m(ie);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}const oe=(e,t)=>a.createElement(g,y({},e,{ref:t,icon:ae})),le=a.forwardRef(oe);var v={},H;function ce(){if(H)return v;H=1,Object.defineProperty(v,"__esModule",{value:!0});var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};return v.default=e,v}var ue=ce();const de=m(ue);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}const fe=(e,t)=>a.createElement(g,j({},e,{ref:t,icon:de})),he=a.forwardRef(fe);var ve=Object.defineProperty,me=(e,t,n)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O=(e,t,n)=>me(e,typeof t!="symbol"?t+"":t,n);class ge{constructor(){O(this,"isMini",!1),O(this,"isBackdropVisible",!1),O(this,"isGone",!0),$(this,{timeout:!1,isBackdropVisible:C},{autoBind:!0})}close(){this.isGone=!0,this.isBackdropVisible=!1}open(){this.isGone=!1,this.isBackdropVisible=!0}toggleSidebarMini(t){this.isGone?this.isMini=t:this.close()}toggleLayout(){this.close()}toggleSidebar(){this.isGone?this.open():this.close()}}const pe={token:L,components:{Layout:{siderBg:"#001529",triggerBg:"#001529",triggerHeight:56},Menu:{darkItemHoverBg:L.colorBgElevated}},cssVar:{key:"dark-sider"}},je=I(function({container:t="fluid",...n}){const r=V(()=>new ge,[]),[N,R]=q.useState(!1),_=a.useRef(null);a.useEffect(()=>{const o=_.current,b=new IntersectionObserver(([l])=>{l.boundingClientRect.top<=0&&l.intersectionRatio<1?R(!0):R(!1)},{threshold:[1]});return o&&b.observe(o),()=>b.disconnect()},[]);const w=A().router.state,{menuKeys:z,menuGroupKeys:P}=a.useMemo(()=>{const o=n.menu.map(l=>l?.key).filter(Boolean);return{menuKeys:n.menu.reduce((l,c)=>{if(c&&(c.key&&l.push(c.key),"children"in c&&Array.isArray(c.children))){const K=c.children.map(G=>G?.key).filter(Boolean);l.push(...K)}return l},[]),menuGroupKeys:o}},[n.menu]),F=z.filter(o=>w.location.pathname.startsWith(o)),p=P.filter(o=>w.location.pathname.startsWith(o));return p.length||p.push("/webmaster"),s.jsxs(u,{className:B(i.wrapper,i[t],{[i["wrapper__sider-gone"]]:r.isGone,[i["wrapper__header-sticky"]]:N}),hasSider:!0,children:[s.jsx(U,{theme:pe,children:s.jsxs(u.Sider,{collapsible:!0,collapsed:r.isMini,onCollapse:r.toggleSidebarMini,className:i.sider__wrapper,trigger:s.jsx("div",{className:i.trigger__wrapper,children:s.jsxs("div",{className:i.trigger,children:[!r.isMini&&s.jsx(Y,{}),r.isMini&&s.jsx(he,{})]})}),width:"var(--layout-sider-width)",children:[s.jsx("div",{className:i.logo}),s.jsx("div",{className:i.sider,children:s.jsx(D,{theme:"dark",mode:"inline",items:n.menu,defaultOpenKeys:p,selectedKeys:F,onClick:()=>{r.close()}})})]})}),s.jsxs(u,{children:[s.jsxs(u.Header,{ref:_,className:i.header,children:[s.jsx(T,{type:"text",icon:r.isGone?s.jsx(le,{}):s.jsx(re,{}),onClick:r.toggleSidebar,className:i.collapseBtn}),n.header]}),n.children,n.footer&&s.jsx(u.Footer,{className:i.footer,children:n.footer})]}),s.jsx("div",{className:B(i.backdrop,{[i.backdrop_visible]:r.isBackdropVisible}),onClick:r.close},"backdrop")]})});export{je as A,he as R};
