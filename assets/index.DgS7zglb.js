import{r as n,ad as je,ao as Ie,q as re,s as w,p as ce,ap as Me,ae as de,aq as me,ag as P,af as fe,Z as ie,ar as ve,Y as Ce,C as _e,D as ze,T as Z,as as He,aj as Le,at as Ke,au as Te,E as We}from"./index.WsYO2dy-.js";import{h as Be,C as Ae,f as ge}from"./AntdIcon.vojNxC2w.js";import{u as Fe}from"./Toggler.ZA2mSsXC.js";import{u as Ve,p as he}from"./useClosable.D4JC76of.js";import{S as Ue}from"./Input.CS61qdQu.js";var be=n.createContext(null),we=n.createContext({}),Xe=["prefixCls","className","containerRef"],Ye=function(t){var o=t.prefixCls,a=t.className,r=t.containerRef,l=je(t,Xe),i=n.useContext(we),c=i.panel,v=Ie(c,r);return n.createElement("div",re({className:w("".concat(o,"-content"),a),role:"dialog",ref:v},ce(t,{aria:!0}),{"aria-modal":"true"},l))};function pe(e){return typeof e=="string"&&String(Number(e))===e?(Me(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var ye={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function qe(e,t){var o,a,r,l=e.prefixCls,i=e.open,c=e.placement,v=e.inline,y=e.push,x=e.forceRender,b=e.autoFocus,O=e.keyboard,s=e.classNames,u=e.rootClassName,p=e.rootStyle,N=e.zIndex,$=e.className,E=e.id,R=e.style,S=e.motion,m=e.width,g=e.height,j=e.children,K=e.mask,z=e.maskClosable,D=e.maskMotion,J=e.maskClassName,H=e.maskStyle,M=e.afterOpenChange,k=e.onClose,T=e.onMouseEnter,Q=e.onMouseOver,ee=e.onMouseLeave,X=e.onClick,te=e.onKeyDown,ne=e.onKeyUp,h=e.styles,W=e.drawerRender,I=n.useRef(),B=n.useRef(),A=n.useRef();n.useImperativeHandle(t,function(){return I.current});var ae=function(C){var Y=C.keyCode,q=C.shiftKey;switch(Y){case ie.TAB:{if(Y===ie.TAB){if(!q&&document.activeElement===A.current){var G;(G=B.current)===null||G===void 0||G.focus({preventScroll:!0})}else if(q&&document.activeElement===B.current){var le;(le=A.current)===null||le===void 0||le.focus({preventScroll:!0})}}break}case ie.ESC:{k&&O&&(C.stopPropagation(),k(C));break}}};n.useEffect(function(){if(i&&b){var d;(d=I.current)===null||d===void 0||d.focus({preventScroll:!0})}},[i]);var oe=n.useState(!1),F=de(oe,2),_=F[0],L=F[1],f=n.useContext(be),se;typeof y=="boolean"?se=y?{}:{distance:0}:se=y||{};var V=(o=(a=(r=se)===null||r===void 0?void 0:r.distance)!==null&&a!==void 0?a:f?.pushDistance)!==null&&o!==void 0?o:180,$e=n.useMemo(function(){return{pushDistance:V,push:function(){L(!0)},pull:function(){L(!1)}}},[V]);n.useEffect(function(){if(i){var d;f==null||(d=f.push)===null||d===void 0||d.call(f)}else{var C;f==null||(C=f.pull)===null||C===void 0||C.call(f)}},[i]),n.useEffect(function(){return function(){var d;f==null||(d=f.pull)===null||d===void 0||d.call(f)}},[]);var Ee=n.createElement(me,re({key:"mask"},D,{visible:K&&i}),function(d,C){var Y=d.className,q=d.style;return n.createElement("div",{className:w("".concat(l,"-mask"),Y,s?.mask,J),style:P(P(P({},q),H),h?.mask),onClick:z&&i?k:void 0,ref:C})}),De=typeof S=="function"?S(c):S,U={};if(_&&V)switch(c){case"top":U.transform="translateY(".concat(V,"px)");break;case"bottom":U.transform="translateY(".concat(-V,"px)");break;case"left":U.transform="translateX(".concat(V,"px)");break;default:U.transform="translateX(".concat(-V,"px)");break}c==="left"||c==="right"?U.width=pe(m):U.height=pe(g);var Pe={onMouseEnter:T,onMouseOver:Q,onMouseLeave:ee,onClick:X,onKeyDown:te,onKeyUp:ne},Re=n.createElement(me,re({key:"panel"},De,{visible:i,forceRender:x,onVisibleChanged:function(C){M?.(C)},removeOnLeave:!1,leavedClassName:"".concat(l,"-content-wrapper-hidden")}),function(d,C){var Y=d.className,q=d.style,G=n.createElement(Ye,re({id:E,containerRef:C,prefixCls:l,className:w($,s?.content),style:P(P({},R),h?.content)},ce(e,{aria:!0}),Pe),j);return n.createElement("div",re({className:w("".concat(l,"-content-wrapper"),s?.wrapper,Y),style:P(P(P({},U),q),h?.wrapper)},ce(e,{data:!0})),W?W(G):G)}),ue=P({},p);return N&&(ue.zIndex=N),n.createElement(be.Provider,{value:$e},n.createElement("div",{className:w(l,"".concat(l,"-").concat(c),u,fe(fe({},"".concat(l,"-open"),i),"".concat(l,"-inline"),v)),style:ue,tabIndex:-1,ref:I,onKeyDown:ae},Ee,n.createElement("div",{tabIndex:0,ref:B,style:ye,"aria-hidden":"true","data-sentinel":"start"}),Re,n.createElement("div",{tabIndex:0,ref:A,style:ye,"aria-hidden":"true","data-sentinel":"end"})))}var Ge=n.forwardRef(qe),Ze=function(t){var o=t.open,a=o===void 0?!1:o,r=t.prefixCls,l=r===void 0?"rc-drawer":r,i=t.placement,c=i===void 0?"right":i,v=t.autoFocus,y=v===void 0?!0:v,x=t.keyboard,b=x===void 0?!0:x,O=t.width,s=O===void 0?378:O,u=t.mask,p=u===void 0?!0:u,N=t.maskClosable,$=N===void 0?!0:N,E=t.getContainer,R=t.forceRender,S=t.afterOpenChange,m=t.destroyOnClose,g=t.onMouseEnter,j=t.onMouseOver,K=t.onMouseLeave,z=t.onClick,D=t.onKeyDown,J=t.onKeyUp,H=t.panelRef,M=n.useState(!1),k=de(M,2),T=k[0],Q=k[1],ee=n.useState(!1),X=de(ee,2),te=X[0],ne=X[1];ve(function(){ne(!0)},[]);var h=te?a:!1,W=n.useRef(),I=n.useRef();ve(function(){h&&(I.current=document.activeElement)},[h]);var B=function(_){var L;if(Q(_),S?.(_),!_&&I.current&&!((L=W.current)!==null&&L!==void 0&&L.contains(I.current))){var f;(f=I.current)===null||f===void 0||f.focus({preventScroll:!0})}},A=n.useMemo(function(){return{panel:H}},[H]);if(!R&&!T&&!h&&m)return null;var ae={onMouseEnter:g,onMouseOver:j,onMouseLeave:K,onClick:z,onKeyDown:D,onKeyUp:J},oe=P(P({},t),{},{open:h,prefixCls:l,placement:c,autoFocus:y,keyboard:b,width:s,mask:p,maskClosable:$,inline:E===!1,afterOpenChange:B,ref:W},ae);return n.createElement(we.Provider,{value:A},n.createElement(Be,{open:h||R||T,autoDestroy:!1,getContainer:E,autoLock:p&&(h||T)},n.createElement(Ge,oe)))};const xe=e=>{var t,o;const{prefixCls:a,title:r,footer:l,extra:i,loading:c,onClose:v,headerStyle:y,bodyStyle:x,footerStyle:b,children:O,classNames:s,styles:u}=e,p=Ce("drawer"),N=n.useCallback(m=>n.createElement("button",{type:"button",onClick:v,className:`${a}-close`},m),[v]),[$,E]=Ve(he(e),he(p),{closable:!0,closeIconRender:N}),R=n.useMemo(()=>{var m,g;return!r&&!$?null:n.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(m=p.styles)===null||m===void 0?void 0:m.header),y),u?.header),className:w(`${a}-header`,{[`${a}-header-close-only`]:$&&!r&&!i},(g=p.classNames)===null||g===void 0?void 0:g.header,s?.header)},n.createElement("div",{className:`${a}-header-title`},E,r&&n.createElement("div",{className:`${a}-title`},r)),i&&n.createElement("div",{className:`${a}-extra`},i))},[$,E,i,y,a,r]),S=n.useMemo(()=>{var m,g;if(!l)return null;const j=`${a}-footer`;return n.createElement("div",{className:w(j,(m=p.classNames)===null||m===void 0?void 0:m.footer,s?.footer),style:Object.assign(Object.assign(Object.assign({},(g=p.styles)===null||g===void 0?void 0:g.footer),b),u?.footer)},l)},[l,b,a]);return n.createElement(n.Fragment,null,R,n.createElement("div",{className:w(`${a}-body`,s?.body,(t=p.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(o=p.styles)===null||o===void 0?void 0:o.body),x),u?.body)},c?n.createElement(Ue,{active:!0,title:!1,paragraph:{rows:5},className:`${a}-body-skeleton`}):O),S)},Je=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},Se=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),ke=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},Se({opacity:e},{opacity:1})),Qe=(e,t)=>[ke(.7,t),Se({transform:Je(e)},{transform:"none"})],et=e=>{const{componentCls:t,motionDurationSlow:o}=e;return{[t]:{[`${t}-mask-motion`]:ke(0,o),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((a,r)=>Object.assign(Object.assign({},a),{[`&-${r}`]:Qe(r,o)}),{})}}},tt=e=>{const{borderRadiusSM:t,componentCls:o,zIndexPopup:a,colorBgMask:r,colorBgElevated:l,motionDurationSlow:i,motionDurationMid:c,paddingXS:v,padding:y,paddingLG:x,fontSizeLG:b,lineHeightLG:O,lineWidth:s,lineType:u,colorSplit:p,marginXS:N,colorIcon:$,colorIconHover:E,colorBgTextHover:R,colorBgTextActive:S,colorText:m,fontWeightStrong:g,footerPaddingBlock:j,footerPaddingInline:K,calc:z}=e,D=`${o}-content-wrapper`;return{[o]:{position:"fixed",inset:0,zIndex:a,pointerEvents:"none",color:m,"&-pure":{position:"relative",background:l,display:"flex",flexDirection:"column",[`&${o}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${o}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${o}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${o}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${o}-mask`]:{position:"absolute",inset:0,zIndex:a,background:r,pointerEvents:"auto"},[D]:{position:"absolute",zIndex:a,maxWidth:"100vw",transition:`all ${i}`,"&-hidden":{display:"none"}},[`&-left > ${D}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${D}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${D}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${D}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${o}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:l,pointerEvents:"auto"},[`${o}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${Z(y)} ${Z(x)}`,fontSize:b,lineHeight:O,borderBottom:`${Z(s)} ${u} ${p}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${o}-extra`]:{flex:"none"},[`${o}-close`]:Object.assign({display:"inline-flex",width:z(b).add(v).equal(),height:z(b).add(v).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:N,color:$,fontWeight:g,fontSize:b,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${c}`,textRendering:"auto","&:hover":{color:E,backgroundColor:R,textDecoration:"none"},"&:active":{backgroundColor:S}},He(e)),[`${o}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:b,lineHeight:O},[`${o}-body`]:{flex:1,minWidth:0,minHeight:0,padding:x,overflow:"auto",[`${o}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${o}-footer`]:{flexShrink:0,padding:`${Z(j)} ${Z(K)}`,borderTop:`${Z(s)} ${u} ${p}`},"&-rtl":{direction:"rtl"}}}},nt=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),Oe=_e("Drawer",e=>{const t=ze(e,{});return[tt(t),et(t)]},nt);var Ne=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(o[a[r]]=e[a[r]]);return o};const at={distance:180},ot=e=>{const{rootClassName:t,width:o,height:a,size:r="default",mask:l=!0,push:i=at,open:c,afterOpenChange:v,onClose:y,prefixCls:x,getContainer:b,panelRef:O=null,style:s,className:u,visible:p,afterVisibleChange:N,maskStyle:$,drawerStyle:E,contentWrapperStyle:R,destroyOnClose:S,destroyOnHidden:m}=e,g=Ne(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","panelRef","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle","destroyOnClose","destroyOnHidden"]),{getPopupContainer:j,getPrefixCls:K,direction:z,className:D,style:J,classNames:H,styles:M}=Ce("drawer"),k=K("drawer",x),[T,Q,ee]=Oe(k),X=b===void 0&&j?()=>j(document.body):b,te=w({"no-mask":!l,[`${k}-rtl`]:z==="rtl"},t,Q,ee),ne=n.useMemo(()=>o??(r==="large"?736:378),[o,r]),h=n.useMemo(()=>a??(r==="large"?736:378),[a,r]),W={motionName:ge(k,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},I=L=>({motionName:ge(k,`panel-motion-${L}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),B=Fe(),A=Le(O,B),[ae,oe]=Ke("Drawer",g.zIndex),{classNames:F={},styles:_={}}=g;return T(n.createElement(Ae,{form:!0,space:!0},n.createElement(Te.Provider,{value:oe},n.createElement(Ze,Object.assign({prefixCls:k,onClose:y,maskMotion:W,motion:I},g,{classNames:{mask:w(F.mask,H.mask),content:w(F.content,H.content),wrapper:w(F.wrapper,H.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},_.mask),$),M.mask),content:Object.assign(Object.assign(Object.assign({},_.content),E),M.content),wrapper:Object.assign(Object.assign(Object.assign({},_.wrapper),R),M.wrapper)},open:c??p,mask:l,push:i,width:ne,height:h,style:Object.assign(Object.assign({},J),s),className:w(D,u),rootClassName:te,getContainer:X,afterOpenChange:v??N,panelRef:A,zIndex:ae,destroyOnClose:m??S}),n.createElement(xe,Object.assign({prefixCls:k},g,{onClose:y}))))))},rt=e=>{const{prefixCls:t,style:o,className:a,placement:r="right"}=e,l=Ne(e,["prefixCls","style","className","placement"]),{getPrefixCls:i}=n.useContext(We),c=i("drawer",t),[v,y,x]=Oe(c),b=w(c,`${c}-pure`,`${c}-${r}`,y,x,a);return v(n.createElement("div",{className:b,style:o},n.createElement(xe,Object.assign({prefixCls:c},l))))};ot._InternalPanelDoNotUseOrYouWillBeFired=rt;export{ot as D};
