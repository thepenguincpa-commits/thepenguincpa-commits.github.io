import{az as v,bw as _,aB as b,aA as k,k as P,n as d,aC as I,Q as R,T as O,bz as x}from"./index.B-zO2jcy.js";import{F,I as T,r as C,m as q,u as E}from"./validators.CuBSd0d9.js";import{S}from"./SelectControl.BGsAxn8z.js";function J(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function g(n,e,o,t,r,a,s){try{var l=n[a](s),c=l.value}catch(i){o(i);return}l.done?e(c):Promise.resolve(c).then(t,r)}function p(n){return function(){var e=this,o=arguments;return new Promise(function(t,r){var a=n.apply(e,o);function s(c){g(a,t,r,s,l,"next",c)}function l(c){g(a,t,r,s,l,"throw",c)}s(void 0)})}}function A(n,e,o){return e=y(e),G(n,w()?Reflect.construct(e,o||[],y(n).constructor):e.apply(n,o))}function U(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function j(n,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function K(n,e,o){return e&&j(n.prototype,e),n}function y(n){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},y(n)}function D(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&m(n,e)}function G(n,e){return e&&(H(e)==="object"||typeof e=="function")?e:J(n)}function m(n,e){return m=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t},m(n,e)}function H(n){"@swc/helpers - typeof";return n&&typeof Symbol<"u"&&n.constructor===Symbol?"symbol":typeof n}function w(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!n})()}function f(n,e){var o,t,r,a={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(i){return function(u){return c([i,u])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(a=0)),a;)try{if(o=1,t&&(r=i[0]&2?t.return:i[0]?t.throw||((r=t.return)&&r.call(t),0):t.next)&&!(r=r.call(t,i[1])).done)return r;switch(t=0,r&&(i=[i[0]&2,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,t=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!(r=r.length>0&&r[r.length-1])&&(i[0]===6||i[0]===2)){a=0;continue}if(i[0]===3&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(i[0]===6&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(n,a)}catch(u){i=[6,u],t=0}finally{o=r=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}var B=(function(n){D(e,n);function e(){return U(this,e),A(this,e,arguments)}return K(e,[{key:"deletePostbacksPostbackIdRaw",value:function(t,r){return p(function(){var a,s,l,c,i;return f(this,function(u){switch(u.label){case 0:if(t.postbackId==null)throw new b("postbackId",'Required parameter "postbackId" was null or undefined when calling deletePostbacksPostbackId().');return a={},s={},this.configuration&&this.configuration.apiKey?(l="x-access-token",[4,this.configuration.apiKey("x-access-token")]):[3,2];case 1:s[l]=u.sent(),u.label=2;case 2:return c="/postbacks/{postbackId}",c=c.replace("{postbackId}",encodeURIComponent(String(t.postbackId))),[4,this.request({path:c,method:"DELETE",headers:s,query:a},r)];case 3:return i=u.sent(),[2,new _(i)]}})}).call(this)}},{key:"deletePostbacksPostbackId",value:function(t,r){return p(function(){return f(this,function(a){switch(a.label){case 0:return[4,this.deletePostbacksPostbackIdRaw(t,r)];case 1:return a.sent(),[2]}})}).call(this)}},{key:"getPostbacksRaw",value:function(t,r){return p(function(){var a,s,l,c,i;return f(this,function(u){switch(u.label){case 0:if(t.type==null)throw new b("type",'Required parameter "type" was null or undefined when calling getPostbacks().');return a={},t.campaignId!=null&&(a.campaignId=t.campaignId),t.type!=null&&(a.type=t.type),s={},this.configuration&&this.configuration.apiKey?(l="x-access-token",[4,this.configuration.apiKey("x-access-token")]):[3,2];case 1:s[l]=u.sent(),u.label=2;case 2:return c="/postbacks",[4,this.request({path:c,method:"GET",headers:s,query:a},r)];case 3:return i=u.sent(),[2,new k(i)]}})}).call(this)}},{key:"getPostbacks",value:function(t,r){return p(function(){var a;return f(this,function(s){switch(s.label){case 0:return[4,this.getPostbacksRaw(t,r)];case 1:return a=s.sent(),[4,a.value()];case 2:return[2,s.sent()]}})}).call(this)}},{key:"patchPostbacksPostbackIdRaw",value:function(t,r){return p(function(){var a,s,l,c,i;return f(this,function(u){switch(u.label){case 0:if(t.postbackId==null)throw new b("postbackId",'Required parameter "postbackId" was null or undefined when calling patchPostbacksPostbackId().');return a={},s={},s["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey?(l="x-access-token",[4,this.configuration.apiKey("x-access-token")]):[3,2];case 1:s[l]=u.sent(),u.label=2;case 2:return c="/postbacks/{postbackId}",c=c.replace("{postbackId}",encodeURIComponent(String(t.postbackId))),[4,this.request({path:c,method:"PATCH",headers:s,query:a,body:t.postbackConfigUpdateDto},r)];case 3:return i=u.sent(),[2,new k(i)]}})}).call(this)}},{key:"patchPostbacksPostbackId",value:function(t,r){return p(function(){var a;return f(this,function(s){switch(s.label){case 0:return[4,this.patchPostbacksPostbackIdRaw(t,r)];case 1:return a=s.sent(),[4,a.value()];case 2:return[2,s.sent()]}})}).call(this)}},{key:"postPostbacksRaw",value:function(t,r){return p(function(){var a,s,l,c,i;return f(this,function(u){switch(u.label){case 0:if(t.postbackConfigCreateDto==null)throw new b("postbackConfigCreateDto",'Required parameter "postbackConfigCreateDto" was null or undefined when calling postPostbacks().');return a={},s={},s["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey?(l="x-access-token",[4,this.configuration.apiKey("x-access-token")]):[3,2];case 1:s[l]=u.sent(),u.label=2;case 2:return c="/postbacks",[4,this.request({path:c,method:"POST",headers:s,query:a,body:t.postbackConfigCreateDto},r)];case 3:return i=u.sent(),[2,new k(i)]}})}).call(this)}},{key:"postPostbacks",value:function(t,r){return p(function(){var a;return f(this,function(s){switch(s.label){case 0:return[4,this.postPostbacksRaw(t,r)];case 1:return a=s.sent(),[4,a.value()];case 2:return[2,s.sent()]}})}).call(this)}}]),e})(v),L=Object.defineProperty,V=(n,e,o)=>e in n?L(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o,$=(n,e,o)=>V(n,e+"",o);class z{constructor(e){this.id=e,$(this,"hostname",""),P(this,{updateFromJson:d,partialUpdateFromJson:d})}updateFromJson(e){return this.partialUpdateFromJson(e),this}partialUpdateFromJson(e){return Object.assign(this,e),this}}class N extends I{constructor(){super(e=>new z(e))}}class Z extends R{constructor(e){super(e.queryClient,{queryKey:["offer-categories"],queryFn:async()=>O.getCampaignHostnames({}),transform:(o=[])=>{const t=e.repositories.get(N);return{items:o.map(r=>t.get(r.id).updateFromJson(r)),repository:t}},staleTime:1e3*60*5,refetchOnWindowFocus:!0})}get repository(){return this.data.repository}get items(){return this.data.items}}var Q=Object.defineProperty,W=(n,e,o)=>e in n?Q(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o,h=(n,e,o)=>W(n,typeof e!="symbol"?e+"":e,o);class ee{constructor(e){this.id=e,h(this,"userId",""),h(this,"url",""),h(this,"eventTypes",[]),h(this,"type","global"),h(this,"campaignId"),P(this,{updateFromJson:d,partialUpdateFromJson:d})}updateFromJson(e){return this.partialUpdateFromJson(e),this}partialUpdateFromJson(e){return Object.assign(this,e),this}}const te=new B;class re extends F{constructor(e,o){const t=e.locale.translations,r=C(()=>t.forms("required"));super({url:new T(()=>o.url,{validators:[r,E(()=>t.campaign("form.postbackUrlInvalid"))],props:()=>({placeholder:t.postback("form.urlPlaceholder")}),itemProps:()=>({label:t.postback("form.urlLabel")})}),eventTypes:new S(()=>o.eventTypes,{validators:[r,q(1,()=>t.campaign("form.invalidEventTypes"))],options:()=>Object.values(x).map(a=>({value:a,label:t.postback(`eventType.${a}`)})),props:()=>({mode:"multiple",placeholder:t.postback("form.conversionsPlaceholder")}),itemProps:()=>({label:t.postback("form.conversionsLabel")})})}),this.postbackConfig=o}}export{Z as C,ee as P,re as a,te as p};
