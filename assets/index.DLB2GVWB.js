import{C as Oe,D as _e,W as je,T as $,Y as Re,r as s,s as K,ae as L,ar as Le,aq as Ke,ag as Z,aj as Ne,ad as Ge,q as he,af as Q,az as Pe,as as Qe,ah as Xe,av as Je,F as se,m as Ue,e as V,P as X,f as Ye,t as Ze,o as Ie,j as o,a4 as ke,u as et,a1 as tt}from"./index.CJpzWARr.js";import{L as at}from"./LayoutContainer.kUniMi3O.js";import{c as rt,b as ot,a as nt,O as it,d as st}from"./OfferPayoutRepository.DMRgHBdS.js";import{w as lt}from"./webmasterOffersApi.CMJMZz74.js";import{R as ct}from"./Registry.BEmoiC2h.js";import{I as dt}from"./InfiniteQueryWithState.DU3fxF3Q.js";import{O as ut}from"./OfferDomainRepository.C35Cl61S.js";import{O as mt}from"./OfferCategoryName.DLR54Ua5.js";import{u as ft}from"./useTranslation.D1-YSIqG.js";import{r as te}from"./renderReactiveCell.D7yC0G9H.js";import{C as ht}from"./CountryName.Cqd_TUYv.js";import{C as ae}from"./Currency.Cy3QZbvy.js";import{F as gt}from"./FlagIcon.DC8lzl7_.js";import{N as pt}from"./NumberFormat.TovQIcex.js";import{u as vt,k as bt,I as le,T as yt}from"./AntdIcon.BEv94oZ9.js";import{C as Me}from"./Input.BJc5rBil.js";import{R as xt}from"./GlobalOutlined.BUp4PHbd.js";import{u as ze,o as St,B as re}from"./button.CTAkPJpI.js";import{F as $t}from"./Table.CnZn0sov.js";import{B as ge}from"./Box.CvVauy6S.js";import{u as wt}from"./useTranslation.DVdJGqhZ.js";import{I as Ct}from"./index.UwxdIMsP.js";import{S as pe}from"./index.C7EzEdlH.js";import"./index.B7lSVg36.js";import"./index.5jmBMbM4.js";import"./EyeOutlined.C4wc5N2Y.js";const Ot=e=>{const{componentCls:t}=e;return{[t]:{"&-horizontal":{[`&${t}`]:{"&-sm":{marginBlock:e.marginXS},"&-md":{marginBlock:e.margin}}}}}},_t=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:r,colorSplit:a,lineWidth:n,textPaddingInline:l,orientationMargin:u,verticalMarginInline:m}=e;return{[t]:Object.assign(Object.assign({},je(e)),{borderBlockStart:`${$(n)} solid ${a}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:m,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${$(n)} solid ${a}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${$(e.marginLG)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${$(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${a}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${$(n)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${u} * 100%)`},"&::after":{width:`calc(100% - ${u} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${u} * 100%)`},"&::after":{width:`calc(${u} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:l},"&-dashed":{background:"none",borderColor:a,borderStyle:"dashed",borderWidth:`${$(n)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:n,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:a,borderStyle:"dotted",borderWidth:`${$(n)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:n,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:r}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:r}}})}},jt=e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),Rt=Oe("Divider",e=>{const t=_e(e,{dividerHorizontalWithTextGutterMargin:e.margin,sizePaddingEdgeHorizontal:0});return[_t(t),Ot(t)]},jt,{unitless:{orientationMargin:!0}});var Nt=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};const Pt={small:"sm",middle:"md"},Ee=e=>{const{getPrefixCls:t,direction:r,className:a,style:n}=Re("divider"),{prefixCls:l,type:u="horizontal",orientation:m="center",orientationMargin:c,className:x,rootClassName:f,children:i,dashed:S,variant:O="solid",plain:v,style:R,size:N}=e,E=Nt(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),d=t("divider",l),[g,P,W]=Rt(d),w=ze(N),h=Pt[w],I=!!i,C=s.useMemo(()=>m==="left"?r==="rtl"?"end":"start":m==="right"?r==="rtl"?"start":"end":m,[r,m]),_=C==="start"&&c!=null,A=C==="end"&&c!=null,B=K(d,a,P,W,`${d}-${u}`,{[`${d}-with-text`]:I,[`${d}-with-text-${C}`]:I,[`${d}-dashed`]:!!S,[`${d}-${O}`]:O!=="solid",[`${d}-plain`]:!!v,[`${d}-rtl`]:r==="rtl",[`${d}-no-default-orientation-margin-start`]:_,[`${d}-no-default-orientation-margin-end`]:A,[`${d}-${h}`]:!!h},x,f),D=s.useMemo(()=>typeof c=="number"?c:/^\d+$/.test(c)?Number(c):c,[c]),p={marginInlineStart:_?D:void 0,marginInlineEnd:A?D:void 0};return g(s.createElement("div",Object.assign({className:B,style:Object.assign(Object.assign({},n),R)},E,{role:"separator"}),i&&u!=="vertical"&&s.createElement("span",{className:`${d}-inner-text`,style:p},i)))};var ve=function(t,r){if(!t)return null;var a={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return r?{left:0,right:0,width:0,top:a.top,bottom:a.bottom,height:a.height}:{left:a.left,right:a.right,width:a.width,top:0,bottom:0,height:0}},M=function(t){return t!==void 0?"".concat(t,"px"):void 0};function It(e){var t=e.prefixCls,r=e.containerRef,a=e.value,n=e.getValueIndex,l=e.motionName,u=e.onMotionStart,m=e.onMotionEnd,c=e.direction,x=e.vertical,f=x===void 0?!1:x,i=s.useRef(null),S=s.useState(a),O=L(S,2),v=O[0],R=O[1],N=function(T){var F,q=n(T),H=(F=r.current)===null||F===void 0?void 0:F.querySelectorAll(".".concat(t,"-item"))[q];return H?.offsetParent&&H},E=s.useState(null),d=L(E,2),g=d[0],P=d[1],W=s.useState(null),w=L(W,2),h=w[0],I=w[1];Le(function(){if(v!==a){var p=N(v),T=N(a),F=ve(p,f),q=ve(T,f);R(a),P(F),I(q),p&&T?u():m()}},[a]);var C=s.useMemo(function(){if(f){var p;return M((p=g?.top)!==null&&p!==void 0?p:0)}return M(c==="rtl"?-g?.right:g?.left)},[f,c,g]),_=s.useMemo(function(){if(f){var p;return M((p=h?.top)!==null&&p!==void 0?p:0)}return M(c==="rtl"?-h?.right:h?.left)},[f,c,h]),A=function(){return f?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},B=function(){return f?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},D=function(){P(null),I(null),m()};return!g||!h?null:s.createElement(Ke,{visible:!0,motionName:l,motionAppear:!0,onAppearStart:A,onAppearActive:B,onVisibleChanged:D},function(p,T){var F=p.className,q=p.style,H=Z(Z({},q),{},{"--thumb-start-left":C,"--thumb-start-width":M(g?.width),"--thumb-active-left":_,"--thumb-active-width":M(h?.width),"--thumb-start-top":C,"--thumb-start-height":M(g?.height),"--thumb-active-top":_,"--thumb-active-height":M(h?.height)}),k={ref:Ne(i,T),style:H,className:K("".concat(t,"-thumb"),F)};return s.createElement("div",k)})}var Mt=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function zt(e){if(typeof e.title<"u")return e.title;if(Pe(e.label)!=="object"){var t;return(t=e.label)===null||t===void 0?void 0:t.toString()}}function Et(e){return e.map(function(t){if(Pe(t)==="object"&&t!==null){var r=zt(t);return Z(Z({},t),{},{title:r})}return{label:t?.toString(),title:t?.toString(),value:t}})}var Bt=function(t){var r=t.prefixCls,a=t.className,n=t.disabled,l=t.checked,u=t.label,m=t.title,c=t.value,x=t.name,f=t.onChange,i=t.onFocus,S=t.onBlur,O=t.onKeyDown,v=t.onKeyUp,R=t.onMouseDown,N=function(d){n||f(d,c)};return s.createElement("label",{className:K(a,Q({},"".concat(r,"-item-disabled"),n)),onMouseDown:R},s.createElement("input",{name:x,className:"".concat(r,"-item-input"),type:"radio",disabled:n,checked:l,onChange:N,onFocus:i,onBlur:S,onKeyDown:O,onKeyUp:v}),s.createElement("div",{className:"".concat(r,"-item-label"),title:m,"aria-selected":l},u))},Ft=s.forwardRef(function(e,t){var r,a,n=e.prefixCls,l=n===void 0?"rc-segmented":n,u=e.direction,m=e.vertical,c=e.options,x=c===void 0?[]:c,f=e.disabled,i=e.defaultValue,S=e.value,O=e.name,v=e.onChange,R=e.className,N=R===void 0?"":R,E=e.motionName,d=E===void 0?"thumb-motion":E,g=Ge(e,Mt),P=s.useRef(null),W=s.useMemo(function(){return Ne(P,t)},[P,t]),w=s.useMemo(function(){return Et(x)},[x]),h=vt((r=w[0])===null||r===void 0?void 0:r.value,{value:S,defaultValue:i}),I=L(h,2),C=I[0],_=I[1],A=s.useState(!1),B=L(A,2),D=B[0],p=B[1],T=function(j,G){_(G),v?.(G)},F=St(g,["children"]),q=s.useState(!1),H=L(q,2),k=H[0],ce=H[1],Be=s.useState(!1),de=L(Be,2),Fe=de[0],ue=de[1],He=function(){ue(!0)},Ae=function(){ue(!1)},De=function(){ce(!1)},Te=function(j){j.key==="Tab"&&ce(!0)},me=function(j){var G=w.findIndex(function(Ve){return Ve.value===C}),fe=w.length,qe=(G+j+fe)%fe,ee=w[qe];ee&&(_(ee.value),v?.(ee.value))},We=function(j){switch(j.key){case"ArrowLeft":case"ArrowUp":me(-1);break;case"ArrowRight":case"ArrowDown":me(1);break}};return s.createElement("div",he({role:"radiogroup","aria-label":"segmented control",tabIndex:f?void 0:0},F,{className:K(l,(a={},Q(a,"".concat(l,"-rtl"),u==="rtl"),Q(a,"".concat(l,"-disabled"),f),Q(a,"".concat(l,"-vertical"),m),a),N),ref:W}),s.createElement("div",{className:"".concat(l,"-group")},s.createElement(It,{vertical:m,prefixCls:l,value:C,containerRef:P,motionName:"".concat(l,"-").concat(d),direction:u,getValueIndex:function(j){return w.findIndex(function(G){return G.value===j})},onMotionStart:function(){p(!0)},onMotionEnd:function(){p(!1)}}),w.map(function(y){var j;return s.createElement(Bt,he({},y,{name:O,key:y.value,prefixCls:l,className:K(y.className,"".concat(l,"-item"),(j={},Q(j,"".concat(l,"-item-selected"),y.value===C&&!D),Q(j,"".concat(l,"-item-focused"),Fe&&k&&y.value===C),j)),checked:y.value===C,onChange:T,onFocus:He,onBlur:Ae,onKeyDown:We,onKeyUp:Te,onMouseDown:De,disabled:!!f||!!y.disabled}))})))}),Ht=Ft;function be(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function ye(e){return{backgroundColor:e.itemSelectedBg,boxShadow:e.boxShadowTertiary}}const At=Object.assign({overflow:"hidden"},Je),Dt=e=>{const{componentCls:t}=e,r=e.calc(e.controlHeight).sub(e.calc(e.trackPadding).mul(2)).equal(),a=e.calc(e.controlHeightLG).sub(e.calc(e.trackPadding).mul(2)).equal(),n=e.calc(e.controlHeightSM).sub(e.calc(e.trackPadding).mul(2)).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},je(e)),{display:"inline-block",padding:e.trackPadding,color:e.itemColor,background:e.trackBg,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`}),Qe(e)),{[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-vertical`]:{[`${t}-group`]:{flexDirection:"column"},[`${t}-thumb`]:{width:"100%",height:0,padding:`0 ${$(e.paddingXXS)}`}},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},ye(e)),{color:e.itemSelectedColor}),"&-focused":Xe(e),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",opacity:0,transition:`opacity ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{opacity:1,backgroundColor:e.itemHoverBg}},[`&:active:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{opacity:1,backgroundColor:e.itemActiveBg}},"&-label":Object.assign({minHeight:r,lineHeight:$(r),padding:`0 ${$(e.segmentedPaddingHorizontal)}`},At),"&-icon + *":{marginInlineStart:e.calc(e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:Object.assign(Object.assign({},ye(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${$(e.paddingXXS)} 0`,borderRadius:e.borderRadiusSM,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, height ${e.motionDurationSlow} ${e.motionEaseInOut}`,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:a,lineHeight:$(a),padding:`0 ${$(e.segmentedPaddingHorizontal)}`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:n,lineHeight:$(n),padding:`0 ${$(e.segmentedPaddingHorizontalSM)}`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),be(`&-disabled ${t}-item`,e)),be(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"},[`&${t}-shape-round`]:{borderRadius:9999,[`${t}-item, ${t}-thumb`]:{borderRadius:9999}}})}},Tt=e=>{const{colorTextLabel:t,colorText:r,colorFillSecondary:a,colorBgElevated:n,colorFill:l,lineWidthBold:u,colorBgLayout:m}=e;return{trackPadding:u,trackBg:m,itemColor:t,itemHoverColor:r,itemHoverBg:a,itemSelectedBg:n,itemActiveBg:l,itemSelectedColor:r}},Wt=Oe("Segmented",e=>{const{lineWidth:t,calc:r}=e,a=_e(e,{segmentedPaddingHorizontal:r(e.controlPaddingHorizontal).sub(t).equal(),segmentedPaddingHorizontalSM:r(e.controlPaddingHorizontalSM).sub(t).equal()});return Dt(a)},Tt);var xe=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};function qt(e){return typeof e=="object"&&!!e?.icon}const Vt=s.forwardRef((e,t)=>{const r=bt(),{prefixCls:a,className:n,rootClassName:l,block:u,options:m=[],size:c="middle",style:x,vertical:f,shape:i="default",name:S=r}=e,O=xe(e,["prefixCls","className","rootClassName","block","options","size","style","vertical","shape","name"]),{getPrefixCls:v,direction:R,className:N,style:E}=Re("segmented"),d=v("segmented",a),[g,P,W]=Wt(d),w=ze(c),h=s.useMemo(()=>m.map(_=>{if(qt(_)){const{icon:A,label:B}=_,D=xe(_,["icon","label"]);return Object.assign(Object.assign({},D),{label:s.createElement(s.Fragment,null,s.createElement("span",{className:`${d}-item-icon`},A),B&&s.createElement("span",null,B))})}return _}),[m,d]),I=K(n,l,N,{[`${d}-block`]:u,[`${d}-sm`]:w==="small",[`${d}-lg`]:w==="large",[`${d}-vertical`]:f,[`${d}-shape-${i}`]:i==="round"},P,W),C=Object.assign(Object.assign({},E),x);return g(s.createElement(Ht,Object.assign({},O,{name:S,className:I,style:C,options:h,ref:t,prefixCls:d,direction:R,vertical:f})))}),Lt=Vt;var J={},Se;function Kt(){if(Se)return J;Se=1,Object.defineProperty(J,"__esModule",{value:!0});var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};return J.default=e,J}var Gt=Kt();const Qt=se(Gt);function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},oe.apply(this,arguments)}const Xt=(e,t)=>s.createElement(le,oe({},e,{ref:t,icon:Qt})),Jt=s.forwardRef(Xt);var U={},$e;function Ut(){if($e)return U;$e=1,Object.defineProperty(U,"__esModule",{value:!0});var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};return U.default=e,U}var Yt=Ut();const Zt=se(Yt);function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ne.apply(this,arguments)}const kt=(e,t)=>s.createElement(le,ne({},e,{ref:t,icon:Zt})),ea=s.forwardRef(kt);var Y={},we;function ta(){if(we)return Y;we=1,Object.defineProperty(Y,"__esModule",{value:!0});var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};return Y.default=e,Y}var aa=ta();const ra=se(aa);function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ie.apply(this,arguments)}const oa=(e,t)=>s.createElement(le,ie({},e,{ref:t,icon:ra})),na=s.forwardRef(oa);var ia=Object.defineProperty,sa=(e,t,r)=>t in e?ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,la=(e,t,r)=>sa(e,t+"",r);class ca{constructor(t,r,a){this.appContext=t,this.categoriesQuery=r,this.currentItem=a,la(this,"data"),this.data=this.parseData(a),Ue(this,{data:Ye.ref,offer:V,category:V,locations:V({equals:X.shallow}),basePayouts:V({equals:X.shallow}),personalPayouts:V({equals:X.shallow}),domains:V({equals:X.shallow}),repositories:V({equals:X.shallow})})}parseData({locations:t,basePayouts:r,personalPayouts:a,domains:n,...l}){const u=this.appContext.repositories.get(rt),m=this.appContext.repositories.get(ot),c=this.appContext.repositories.get(nt),x=this.appContext.repositories.get(it),f=this.appContext.repositories.get(ut);return{offer:u.get(l.id).updateFromJson({...l,locations:t.map(i=>i.id),basePayouts:r.map(i=>i.id),personalPayouts:a.map(i=>i.id),domains:n.map(i=>i.id)}),locations:t.map(i=>m.get(i.id).updateFromJson(i)),basePayouts:r.map(i=>c.get(i.id).updateFromJson(i)),personalPayouts:a.map(i=>x.get(i.id).updateFromJson(i)),domains:n.map(i=>f.get(i.id).updateFromJson(i)),offerRepository:u,locationRepository:m,personalPayoutRepository:x,basePayoutRepository:c,domainRepository:f}}get repositories(){return{offer:this.data.offerRepository,locations:this.data.locationRepository,domains:this.data.domainRepository,personalPayouts:this.data.personalPayoutRepository,basePayouts:this.data.basePayoutRepository,categories:this.categoriesQuery.repository}}updateFromJson(t){t!==this.currentItem&&(this.data=this.parseData(t))}get offer(){return this.data.offer}get category(){return this.categoriesQuery.repository.get(this.offer.categoryId)}get locations(){return this.data.locations}get basePayouts(){return this.data.basePayouts}get personalPayouts(){return this.data.personalPayouts}get domains(){return this.data.domains}}var da=Object.defineProperty,ua=(e,t,r)=>t in e?da(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ce=(e,t,r)=>ua(e,typeof t!="symbol"?t+"":t,r);class ma{constructor(t){Ce(this,"offersQuery"),Ce(this,"categoriesQuery"),Ze(this),this.categoriesQuery=new st(t);const r=new WeakMap;this.offersQuery=new dt(t.queryClient,{queryKey:["webmaster","offers"],queryFn:()=>lt.getOffers({offset:0,limit:20}),getNextPageParam:(a,n)=>{const l=n.reduce((u,m)=>u+m.items.length,0);if(!(l>=a.total))return l},initialPageParam:0,transform:({pages:a}={pageParams:[],pages:[]})=>({data:a.flatMap(l=>{let u=r.get(l);return u||(u=new ct(m=>new ca(t,this.categoriesQuery,m))),u.from(l.items)}),total:(a[a.length-1]||{total:0}).total}),staleTime:1e3*60*5,refetchOnWindowFocus:!0})}get offers(){return this.offersQuery.data.data}get totalOffers(){return this.offersQuery.data.total}dispose(){console.log("dispose")}init(){console.log("init")}}const fa="_card_7rx0a_1",ha="_header_7rx0a_6",ga="_logo_7rx0a_13",pa="_info_7rx0a_21",va="_title_7rx0a_26",ba="_subtitle_7rx0a_30",ya="_meta_7rx0a_34",xa="_langCount_7rx0a_46",Sa="_langIcon_7rx0a_51",$a="_table_7rx0a_55",wa="_footer_7rx0a_59",Ca="_plus_7rx0a_64",Oa="_countryCell_7rx0a_68",_a="_payoutModified_7rx0a_75",ja="_payoutCell_7rx0a_81",Ra="_priceCell_7rx0a_85",b={card:fa,header:ha,logo:ga,info:pa,title:va,subtitle:ba,meta:ya,langCount:xa,langIcon:Sa,table:$a,footer:wa,plus:Ca,countryCell:Oa,payoutModified:_a,payoutCell:ja,priceCell:Ra},Na=Ie(function({item:t}){const{offer:r,category:a,basePayouts:n,locations:l,personalPayouts:u}=t,m=r.domains?.length||0,{t:c}=ft("offer"),x=s.useMemo(()=>[{title:c("card.country"),dataIndex:"country",key:"country",width:"100%",render:te(({location:i})=>o.jsxs("div",{className:b.countryCell,children:[o.jsx(gt,{code:i.country}),o.jsx(ht,{code:i.country})]}))},{title:c("card.payout"),dataIndex:"payout",key:"payout",render:te(({payout:i,basePayout:S})=>i?o.jsx(yt,{overlay:c("card.personalPayoutTooltip",{diff:o.jsx(pt,{signDisplay:"always",value:i.amount-S.amount})}),children:o.jsx("div",{className:K(b.payoutCell,b.payoutModified),children:o.jsx(ae,{code:i.currency,value:i.amount})})}):o.jsx("div",{className:b.payoutCell,children:o.jsx(ae,{code:S.currency,value:S.amount})}))},{title:c("card.sitePrice"),dataIndex:"sitePrice",key:"sitePrice",render:te(({location:i})=>o.jsx("div",{className:b.priceCell,children:o.jsx(ae,{code:i.currency,value:i.price})}))}],[c]),f=l.map(i=>{const S=n.find(v=>v.locationId===i.id)||n[0],O=u.find(v=>v.locationId===i.id);return{id:i.id,location:i,basePayout:S,payout:O}});return o.jsx(ke,{to:"/offers/$offerId",params:{offerId:r.id},children:o.jsxs(Me,{hoverable:!0,className:b.card,children:[o.jsxs("div",{className:b.header,children:[o.jsx("img",{src:r.image,alt:r.title,className:b.logo}),o.jsxs("div",{className:b.info,children:[o.jsx("h4",{className:b.title,children:r.title}),o.jsx("span",{className:b.subtitle,children:r.subtitle})]}),o.jsxs("div",{className:b.meta,children:[o.jsxs("span",{children:[c("card.category")," "]}),o.jsx("span",{className:b.category,children:o.jsx(mt,{category:a})}),o.jsx("br",{}),o.jsxs("span",{children:[m," ",o.jsx("span",{className:b.langCount,children:c("card.languages")})," ",o.jsx(xt,{className:b.langIcon})]})]})]}),o.jsx(Ee,{}),o.jsx($t,{rowKey:"id",columns:x,dataSource:f,pagination:!1,size:"small",className:b.table}),o.jsx("div",{className:b.footer,children:o.jsxs(re,{type:"primary",children:[c("card.connect")," ",o.jsx("span",{className:b.plus,children:"+"})]})})]})})}),Pa="_filterCard_aszee_1",Ia="_header_aszee_5",Ma="_title_aszee_12",za="_count_aszee_18",Ea="_countGray_aszee_23",Ba="_search_aszee_28",Fa="_filtersRow_aszee_34",Ha="_select_aszee_42",z={filterCard:Pa,header:Ia,title:Ma,count:za,countGray:Ea,search:Ba,filtersRow:Fa,select:Ha},Aa=()=>{const{t:e}=wt("offer"),t=[{label:e("filter.categoryAll"),value:"all"}],r=[{label:e("filter.geoAll"),value:"all"}];return o.jsxs(Me,{className:z.filterCard,children:[o.jsxs("div",{className:z.header,children:[o.jsx("span",{className:z.title,children:e("filter.title")}),o.jsx(Lt,{options:[{label:o.jsxs(o.Fragment,{children:[e("filter.all")," ",o.jsx("span",{className:z.count,children:"102"})]}),value:"all"},{label:o.jsxs(o.Fragment,{children:[e("filter.my")," ",o.jsx("span",{className:z.countGray,children:"19"})]}),value:"my"}],defaultValue:"all",className:z.segmented}),o.jsx(Ct,{placeholder:e("filter.searchPlaceholder"),prefix:o.jsx(na,{}),className:z.search})]}),o.jsx(Ee,{}),o.jsxs("div",{className:z.filtersRow,children:[o.jsxs(ge,{gap:"sm",children:[o.jsx(pe,{options:t,defaultValue:"all",className:z.select}),o.jsx(pe,{options:r,defaultValue:"all",className:z.select})]}),o.jsxs(ge,{gap:"sm",children:[o.jsxs(re,{type:"primary",children:[e("filter.applyFilter")," ",o.jsx(Jt,{})]}),o.jsx(re,{icon:o.jsx(ea,{})})]})]})]})},Da=Ie(function(){const t=et(),a=tt(()=>new ma(t),[t]).offers;return o.jsxs(at,{size:"lg",children:[o.jsx(Aa,{}),a.map(n=>o.jsx(Na,{item:n},n.offer.id))]})}),mr=Da;export{mr as component};
