import{r as a,I as Ie,_ as Le,b9 as wt,aw as tt,h as kt,c as le,av as Ve,g as Ot,ai as _t,p as Rt,am as rt,Z as Tt,ao as Z,q as st,f as It,m as ie,j as r,a2 as $e,a as ce,u as ue,a4 as Te,a8 as Lt,ab as $t,ba as Mt}from"./index.4zeDQRVO.js";import{u as de}from"./useStore.D4KSWJZn.js";import{G as Nt,a as At,d as Dt,I as F,j as Me,F as Ne,g as _,h as q,e as J,i as Bt,m as je,n as Ue,V as qe,f as Ft}from"./validators.DroOlsja.js";import{c as Ht,t as ot,o as nt,u as pe,B as H}from"./useTranslation.BS2LVwFL.js";import{i as Ke,a as zt}from"./index.DceSEdlG.js";import{R as Wt}from"./BulbOutlined.DwbSHf_H.js";import{T as he,u as Xe,m as Vt}from"./EllipsisOutlined.DVNUmsIU.js";const Ut=(e,t=!1)=>t&&e==null?[]:Array.isArray(e)?e:[e];var qt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},Kt=function(t,o){return a.createElement(Ie,Le({},t,{ref:o,icon:qt}))},Xt=a.forwardRef(Kt),Gt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},Jt=function(t,o){return a.createElement(Ie,Le({},t,{ref:o,icon:Gt}))},Zt=a.forwardRef(Jt);const Qt=(e,t,o,s)=>{const{titleMarginBottom:n,fontWeightStrong:l}=s;return{marginBottom:n,color:o,fontWeight:l,fontSize:e,lineHeight:t}},Yt=e=>{const t=[1,2,3,4,5],o={};return t.forEach(s=>{o[`
      h${s}&,
      div&-h${s},
      div&-h${s} > textarea,
      h${s}
    `]=Qt(e[`fontSizeHeading${s}`],e[`lineHeightHeading${s}`],e.colorTextHeading,e)}),o},er=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},tt(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},tr=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:wt[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:e.fontWeightStrong},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),rr=e=>{const{componentCls:t,paddingSM:o}=e,s=o;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),insetBlockStart:e.calc(s).div(-2).add(1).equal(),marginBottom:e.calc(s).div(2).sub(2).equal()},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorIcon,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},sr=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),or=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),nr=e=>{const{componentCls:t,titleMarginTop:o}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccessText},[`&${t}-warning`]:{color:e.colorWarningText},[`&${t}-danger`]:{color:e.colorErrorText,"a&:active, a&:focus":{color:e.colorErrorTextActive},"a&:hover":{color:e.colorErrorTextHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},Yt(e)),{[`
      & + h1${t},
      & + h2${t},
      & + h3${t},
      & + h4${t},
      & + h5${t}
      `]:{marginTop:o},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:o}}}),tr(e)),er(e)),{[`
        ${t}-expand,
        ${t}-collapse,
        ${t}-edit,
        ${t}-copy
      `]:Object.assign(Object.assign({},tt(e)),{marginInlineStart:e.marginXXS})}),rr(e)),sr(e)),or()),{"&-rtl":{direction:"rtl"}})}},ar=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"}),at=kt("Typography",nr,ar),lr=e=>{const{prefixCls:t,"aria-label":o,className:s,style:n,direction:l,maxLength:u,autoSize:d=!0,value:p,onSave:h,onCancel:f,onEnd:m,component:i,enterIcon:b=a.createElement(Zt,null)}=e,C=a.useRef(null),v=a.useRef(!1),E=a.useRef(null),[x,L]=a.useState(p);a.useEffect(()=>{L(p)},[p]),a.useEffect(()=>{var y;if(!((y=C.current)===null||y===void 0)&&y.resizableTextArea){const{textArea:P}=C.current.resizableTextArea;P.focus();const{length:S}=P.value;P.setSelectionRange(S,S)}},[]);const z=({target:y})=>{L(y.value.replace(/[\n\r]/g,""))},w=()=>{v.current=!0},k=()=>{v.current=!1},T=({keyCode:y})=>{v.current||(E.current=y)},j=()=>{h(x.trim())},W=({keyCode:y,ctrlKey:P,altKey:S,metaKey:D,shiftKey:R})=>{E.current!==y||v.current||P||S||D||R||(y===Ve.ENTER?(j(),m?.()):y===Ve.ESC&&f())},Q=()=>{j()},[X,N,Y]=at(t),A=le(t,`${t}-edit-content`,{[`${t}-rtl`]:l==="rtl",[`${t}-${i}`]:!!i},s,N,Y);return X(a.createElement("div",{className:A,style:n},a.createElement(Nt,{ref:C,maxLength:u,value:x,onChange:z,onKeyDown:T,onKeyUp:W,onCompositionStart:w,onCompositionEnd:k,onBlur:Q,"aria-label":o,rows:1,autoSize:d}),b!==null?Ht(b,{className:`${t}-edit-content-confirm`}):null))};var be,Ge;function ir(){return Ge||(Ge=1,be=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,o=[],s=0;s<e.rangeCount;s++)o.push(e.getRangeAt(s));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||o.forEach(function(n){e.addRange(n)}),t&&t.focus()}}),be}var Se,Je;function cr(){if(Je)return Se;Je=1;var e=ir(),t={"text/plain":"Text","text/html":"Url",default:"Text"},o="Copy to clipboard: #{key}, Enter";function s(l){var u=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return l.replace(/#{\s*key\s*}/g,u)}function n(l,u){var d,p,h,f,m,i,b=!1;u||(u={}),d=u.debug||!1;try{h=e(),f=document.createRange(),m=document.getSelection(),i=document.createElement("span"),i.textContent=l,i.ariaHidden="true",i.style.all="unset",i.style.position="fixed",i.style.top=0,i.style.clip="rect(0, 0, 0, 0)",i.style.whiteSpace="pre",i.style.webkitUserSelect="text",i.style.MozUserSelect="text",i.style.msUserSelect="text",i.style.userSelect="text",i.addEventListener("copy",function(v){if(v.stopPropagation(),u.format)if(v.preventDefault(),typeof v.clipboardData>"u"){d&&console.warn("unable to use e.clipboardData"),d&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var E=t[u.format]||t.default;window.clipboardData.setData(E,l)}else v.clipboardData.clearData(),v.clipboardData.setData(u.format,l);u.onCopy&&(v.preventDefault(),u.onCopy(v.clipboardData))}),document.body.appendChild(i),f.selectNodeContents(i),m.addRange(f);var C=document.execCommand("copy");if(!C)throw new Error("copy command was unsuccessful");b=!0}catch(v){d&&console.error("unable to copy using execCommand: ",v),d&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(u.format||"text",l),u.onCopy&&u.onCopy(window.clipboardData),b=!0}catch(E){d&&console.error("unable to copy using clipboardData: ",E),d&&console.error("falling back to prompt"),p=s("message"in u?u.message:o),window.prompt(p,l)}}finally{m&&(typeof m.removeRange=="function"?m.removeRange(f):m.removeAllRanges()),i&&document.body.removeChild(i),h()}return b}return Se=n,Se}var ur=cr();const dr=Ot(ur);var pr=function(e,t,o,s){function n(l){return l instanceof o?l:new o(function(u){u(l)})}return new(o||(o=Promise))(function(l,u){function d(f){try{h(s.next(f))}catch(m){u(m)}}function p(f){try{h(s.throw(f))}catch(m){u(m)}}function h(f){f.done?l(f.value):n(f.value).then(d,p)}h((s=s.apply(e,t||[])).next())})};const hr=({copyConfig:e,children:t})=>{const[o,s]=a.useState(!1),[n,l]=a.useState(!1),u=a.useRef(null),d=()=>{u.current&&clearTimeout(u.current)},p={};e.format&&(p.format=e.format),a.useEffect(()=>d,[]);const h=_t(f=>pr(void 0,void 0,void 0,function*(){var m;f?.preventDefault(),f?.stopPropagation(),l(!0);try{const i=typeof e.text=="function"?yield e.text():e.text;dr(i||Ut(t,!0).join("")||"",p),l(!1),s(!0),d(),u.current=setTimeout(()=>{s(!1)},3e3),(m=e.onCopy)===null||m===void 0||m.call(e,f)}catch(i){throw l(!1),i}}));return{copied:o,copyLoading:n,onClick:h}};function Ce(e,t){return a.useMemo(()=>{const o=!!e;return[o,Object.assign(Object.assign({},t),o&&typeof e=="object"?e:null)]},[e])}const fr=e=>{const t=a.useRef(void 0);return a.useEffect(()=>{t.current=e}),t.current},gr=(e,t,o)=>a.useMemo(()=>e===!0?{title:t??o}:a.isValidElement(e)?{title:e}:typeof e=="object"?Object.assign({title:t??o},e):{title:e},[e,t,o]);var mr=function(e,t){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(o[s[n]]=e[s[n]]);return o};const lt=a.forwardRef((e,t)=>{const{prefixCls:o,component:s="article",className:n,rootClassName:l,setContentRef:u,children:d,direction:p,style:h}=e,f=mr(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:m,direction:i,className:b,style:C}=Rt("typography"),v=p??i,E=u?rt(t,u):t,x=m("typography",o),[L,z,w]=at(x),k=le(x,b,{[`${x}-rtl`]:v==="rtl"},n,l,z,w),T=Object.assign(Object.assign({},C),h);return L(a.createElement(s,Object.assign({className:k,style:T,ref:E},f),d))});var xr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},vr=function(t,o){return a.createElement(Ie,Le({},t,{ref:o,icon:xr}))},yr=a.forwardRef(vr);function Ze(e){return e===!1?[!1,!1]:Array.isArray(e)?e:[e]}function Pe(e,t,o){return e===!0||e===void 0?t:e||o&&t}function jr(e){const t=document.createElement("em");e.appendChild(t);const o=e.getBoundingClientRect(),s=t.getBoundingClientRect();return e.removeChild(t),o.left>s.left||s.right>o.right||o.top>s.top||s.bottom>o.bottom}const Ae=e=>["string","number"].includes(typeof e),br=({prefixCls:e,copied:t,locale:o,iconOnly:s,tooltips:n,icon:l,tabIndex:u,onCopy:d,loading:p})=>{const h=Ze(n),f=Ze(l),{copied:m,copy:i}=o??{},b=t?m:i,C=Pe(h[t?1:0],b),v=typeof C=="string"?C:b;return a.createElement(he,{title:C},a.createElement("button",{type:"button",className:le(`${e}-copy`,{[`${e}-copy-success`]:t,[`${e}-copy-icon-only`]:s}),onClick:d,"aria-label":v,tabIndex:u},t?Pe(f[1],a.createElement(At,null),!0):Pe(f[0],p?a.createElement(Tt,null):a.createElement(yr,null),!0)))},ne=a.forwardRef(({style:e,children:t},o)=>{const s=a.useRef(null);return a.useImperativeHandle(o,()=>({isExceed:()=>{const n=s.current;return n.scrollHeight>n.clientHeight},getHeight:()=>s.current.clientHeight})),a.createElement("span",{"aria-hidden":!0,ref:s,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},e)},t)}),Sr=e=>e.reduce((t,o)=>t+(Ae(o)?String(o).length:1),0);function Qe(e,t){let o=0;const s=[];for(let n=0;n<e.length;n+=1){if(o===t)return s;const l=e[n],d=Ae(l)?String(l).length:1,p=o+d;if(p>t){const h=t-o;return s.push(String(l).slice(0,h)),s}s.push(l),o=p}return e}const Ee=0,we=1,ke=2,Oe=3,Ye=4,ae={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function Cr(e){const{enableMeasure:t,width:o,text:s,children:n,rows:l,expanded:u,miscDeps:d,onEllipsis:p}=e,h=a.useMemo(()=>ot(s),[s]),f=a.useMemo(()=>Sr(h),[s]),m=a.useMemo(()=>n(h,!1),[s]),[i,b]=a.useState(null),C=a.useRef(null),v=a.useRef(null),E=a.useRef(null),x=a.useRef(null),L=a.useRef(null),[z,w]=a.useState(!1),[k,T]=a.useState(Ee),[j,W]=a.useState(0),[Q,X]=a.useState(null);Z(()=>{T(t&&o&&f?we:Ee)},[o,s,l,t,h]),Z(()=>{var y,P,S,D;if(k===we){T(ke);const R=v.current&&getComputedStyle(v.current).whiteSpace;X(R)}else if(k===ke){const R=!!(!((y=E.current)===null||y===void 0)&&y.isExceed());T(R?Oe:Ye),b(R?[0,f]:null),w(R);const V=((P=E.current)===null||P===void 0?void 0:P.getHeight())||0,ge=l===1?0:((S=x.current)===null||S===void 0?void 0:S.getHeight())||0,re=((D=L.current)===null||D===void 0?void 0:D.getHeight())||0,me=Math.max(V,ge+re);W(me+1),p(R)}},[k]);const N=i?Math.ceil((i[0]+i[1])/2):0;Z(()=>{var y;const[P,S]=i||[0,0];if(P!==S){const R=(((y=C.current)===null||y===void 0?void 0:y.getHeight())||0)>j;let V=N;S-P===1&&(V=R?P:S),b(R?[P,V]:[V,S])}},[i,N]);const Y=a.useMemo(()=>{if(!t)return n(h,!1);if(k!==Oe||!i||i[0]!==i[1]){const y=n(h,!1);return[Ye,Ee].includes(k)?y:a.createElement("span",{style:Object.assign(Object.assign({},ae),{WebkitLineClamp:l})},y)}return n(u?h:Qe(h,i[0]),z)},[u,k,i,h].concat(st(d))),A={width:o,margin:0,padding:0,whiteSpace:Q==="nowrap"?"normal":"inherit"};return a.createElement(a.Fragment,null,Y,k===ke&&a.createElement(a.Fragment,null,a.createElement(ne,{style:Object.assign(Object.assign(Object.assign({},A),ae),{WebkitLineClamp:l}),ref:E},m),a.createElement(ne,{style:Object.assign(Object.assign(Object.assign({},A),ae),{WebkitLineClamp:l-1}),ref:x},m),a.createElement(ne,{style:Object.assign(Object.assign(Object.assign({},A),ae),{WebkitLineClamp:1}),ref:L},n([],!0))),k===Oe&&i&&i[0]!==i[1]&&a.createElement(ne,{style:Object.assign(Object.assign({},A),{top:400}),ref:C},n(Qe(h,N),!0)),k===we&&a.createElement("span",{style:{whiteSpace:"inherit"},ref:v}))}const Pr=({enableEllipsis:e,isEllipsis:t,children:o,tooltipProps:s})=>!s?.title||!e?o:a.createElement(he,Object.assign({open:t?void 0:!1},s),o);var Er=function(e,t){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(o[s[n]]=e[s[n]]);return o};function wr({mark:e,code:t,underline:o,delete:s,strong:n,keyboard:l,italic:u},d){let p=d;function h(f,m){m&&(p=a.createElement(f,{},p))}return h("strong",n),h("u",o),h("del",s),h("code",t),h("mark",e),h("kbd",l),h("i",u),p}const kr="...",et=["delete","mark","code","underline","strong","keyboard","italic"],fe=a.forwardRef((e,t)=>{var o;const{prefixCls:s,className:n,style:l,type:u,disabled:d,children:p,ellipsis:h,editable:f,copyable:m,component:i,title:b}=e,C=Er(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:v,direction:E}=a.useContext(It),[x]=Dt("Text"),L=a.useRef(null),z=a.useRef(null),w=v("typography",s),k=nt(C,et),[T,j]=Ce(f),[W,Q]=Xe(!1,{value:j.editing}),{triggerType:X=["icon"]}=j,N=c=>{var g;c&&((g=j.onStart)===null||g===void 0||g.call(j)),Q(c)},Y=fr(W);Z(()=>{var c;!W&&Y&&((c=z.current)===null||c===void 0||c.focus())},[W]);const A=c=>{c?.preventDefault(),N(!0)},y=c=>{var g;(g=j.onChange)===null||g===void 0||g.call(j,c),N(!1)},P=()=>{var c;(c=j.onCancel)===null||c===void 0||c.call(j),N(!1)},[S,D]=Ce(m),{copied:R,copyLoading:V,onClick:ge}=hr({copyConfig:D,children:p}),[re,me]=a.useState(!1),[De,it]=a.useState(!1),[Be,ct]=a.useState(!1),[Fe,ut]=a.useState(!1),[dt,pt]=a.useState(!0),[U,O]=Ce(h,{expandable:!1,symbol:c=>c?x?.collapse:x?.expand}),[B,ht]=Xe(O.defaultExpanded||!1,{value:O.expanded}),I=U&&(!B||O.expandable==="collapsible"),{rows:ee=1}=O,se=a.useMemo(()=>I&&(O.suffix!==void 0||O.onEllipsis||O.expandable||T||S),[I,O,T,S]);Z(()=>{U&&!se&&(me(Ke("webkitLineClamp")),it(Ke("textOverflow")))},[se,U]);const[$,ft]=a.useState(I),He=a.useMemo(()=>se?!1:ee===1?De:re,[se,De,re]);Z(()=>{ft(He&&I)},[He,I]);const ze=I&&($?Fe:Be),gt=I&&ee===1&&$,xe=I&&ee>1&&$,mt=(c,g)=>{var M;ht(g.expanded),(M=O.onExpand)===null||M===void 0||M.call(O,c,g)},[We,xt]=a.useState(0),vt=({offsetWidth:c})=>{xt(c)},yt=c=>{var g;ct(c),Be!==c&&((g=O.onEllipsis)===null||g===void 0||g.call(O,c))};a.useEffect(()=>{const c=L.current;if(U&&$&&c){const g=jr(c);Fe!==g&&ut(g)}},[U,$,p,xe,dt,We]),a.useEffect(()=>{const c=L.current;if(typeof IntersectionObserver>"u"||!c||!$||!I)return;const g=new IntersectionObserver(()=>{pt(!!c.offsetParent)});return g.observe(c),()=>{g.disconnect()}},[$,I]);const ve=gr(O.tooltip,j.text,p),oe=a.useMemo(()=>{if(!(!U||$))return[j.text,p,b,ve.title].find(Ae)},[U,$,b,ve.title,ze]);if(W)return a.createElement(lr,{value:(o=j.text)!==null&&o!==void 0?o:typeof p=="string"?p:"",onSave:y,onCancel:P,onEnd:j.onEnd,prefixCls:w,className:n,style:l,direction:E,component:i,maxLength:j.maxLength,autoSize:j.autoSize,enterIcon:j.enterIcon});const jt=()=>{const{expandable:c,symbol:g}=O;return c?a.createElement("button",{type:"button",key:"expand",className:`${w}-${B?"collapse":"expand"}`,onClick:M=>mt(M,{expanded:!B}),"aria-label":B?x.collapse:x?.expand},typeof g=="function"?g(B):g):null},bt=()=>{if(!T)return;const{icon:c,tooltip:g,tabIndex:M}=j,ye=ot(g)[0]||x?.edit,Et=typeof ye=="string"?ye:"";return X.includes("icon")?a.createElement(he,{key:"edit",title:g===!1?"":ye},a.createElement("button",{type:"button",ref:z,className:`${w}-edit`,onClick:A,"aria-label":Et,tabIndex:M},c||a.createElement(Xt,{role:"button"}))):null},St=()=>S?a.createElement(br,Object.assign({key:"copy"},D,{prefixCls:w,copied:R,locale:x,onCopy:ge,loading:V,iconOnly:p==null})):null,Ct=c=>[c&&jt(),bt(),St()],Pt=c=>[c&&!B&&a.createElement("span",{"aria-hidden":!0,key:"ellipsis"},kr),O.suffix,Ct(c)];return a.createElement(Vt,{onResize:vt,disabled:!I},c=>a.createElement(Pr,{tooltipProps:ve,enableEllipsis:I,isEllipsis:ze},a.createElement(lt,Object.assign({className:le({[`${w}-${u}`]:u,[`${w}-disabled`]:d,[`${w}-ellipsis`]:U,[`${w}-ellipsis-single-line`]:gt,[`${w}-ellipsis-multiple-line`]:xe},n),prefixCls:s,style:Object.assign(Object.assign({},l),{WebkitLineClamp:xe?ee:void 0}),component:i,ref:rt(c,L,t),direction:E,onClick:X.includes("text")?A:void 0,"aria-label":oe?.toString(),title:b},k),a.createElement(Cr,{enableMeasure:I&&!$,text:p,rows:ee,width:We,onEllipsis:yt,expanded:B,miscDeps:[R,B,V,T,S,x].concat(st(et.map(g=>e[g])))},(g,M)=>wr(e,a.createElement(a.Fragment,null,g.length>0&&M&&!B&&oe?a.createElement("span",{key:"show-content","aria-hidden":!0},g):g,Pt(M)))))))});var Or=function(e,t){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(o[s[n]]=e[s[n]]);return o};const _r=a.forwardRef((e,t)=>{var{ellipsis:o,rel:s}=e,n=Or(e,["ellipsis","rel"]);const l=Object.assign(Object.assign({},n),{rel:s===void 0&&n.target==="_blank"?"noopener noreferrer":s});return delete l.navigate,a.createElement(fe,Object.assign({},l,{ref:t,ellipsis:!!o,component:"a"}))}),Rr=a.forwardRef((e,t)=>a.createElement(fe,Object.assign({ref:t},e,{component:"div"})));var Tr=function(e,t){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(o[s[n]]=e[s[n]]);return o};const Ir=(e,t)=>{var{ellipsis:o}=e,s=Tr(e,["ellipsis"]);const n=a.useMemo(()=>o&&typeof o=="object"?nt(o,["expandable","rows"]):o,[o]);return a.createElement(fe,Object.assign({ref:t},s,{ellipsis:n,component:"span"}))},Lr=a.forwardRef(Ir);var $r=function(e,t){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(o[s[n]]=e[s[n]]);return o};const Mr=[1,2,3,4,5],Nr=a.forwardRef((e,t)=>{const{level:o=1}=e,s=$r(e,["level"]),n=Mr.includes(o)?`h${o}`:"h1";return a.createElement(fe,Object.assign({ref:t},s,{component:n}))}),te=lt;te.Text=Lr;te.Link=_r;te.Title=Nr;te.Paragraph=Rr;var Ar=Object.defineProperty,Dr=(e,t,o)=>t in e?Ar(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Br=(e,t,o)=>Dr(e,t+"",o);class Fr{constructor(){Br(this,"mode","login"),ie(this,{},{autoBind:!0})}toLogin(){this.mode="login"}toRegister(){this.mode="register"}toForgot(){this.mode="forgot"}}const Hr=()=>r.jsxs("svg",{color:"rgba(52, 109, 219, 1)",version:"1.1",preserveAspectRatio:"none",viewBox:"0 0 1440 530",children:[r.jsxs("g",{mask:'url("#SvgjsMask1018")',fill:"none",children:[r.jsx("use",{href:"#SvgjsSymbol1025",x:"0",y:"0"}),r.jsx("use",{href:"#SvgjsSymbol1025",x:"720",y:"0"})]}),r.jsxs("defs",{children:[r.jsx("mask",{id:"SvgjsMask1018",children:r.jsx("rect",{width:"1440",height:"560",fill:"#ffffff"})}),r.jsx("path",{d:"M-1 0 a1 1 0 1 0 2 0 a1 1 0 1 0 -2 0z",id:"SvgjsPath1022"}),r.jsx("path",{d:"M-3 0 a3 3 0 1 0 6 0 a3 3 0 1 0 -6 0z",id:"SvgjsPath1020"}),r.jsx("path",{d:"M-5 0 a5 5 0 1 0 10 0 a5 5 0 1 0 -10 0z",id:"SvgjsPath1023"}),r.jsx("path",{d:"M2 -2 L-2 2z",id:"SvgjsPath1019"}),r.jsx("path",{d:"M6 -6 L-6 6z",id:"SvgjsPath1021"}),r.jsx("path",{d:"M30 -30 L-30 30z",id:"SvgjsPath1024"})]}),r.jsxs("symbol",{id:"SvgjsSymbol1025",children:[r.jsx("use",{href:"#SvgjsPath1019",x:"30",y:"30",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1020",x:"30",y:"90",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"30",y:"150",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"30",y:"210",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"30",y:"270",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"30",y:"330",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1022",x:"30",y:"390",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"30",y:"450",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"30",y:"510",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1022",x:"90",y:"30",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1022",x:"90",y:"90",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"90",y:"150",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"90",y:"210",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"90",y:"270",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"90",y:"330",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"90",y:"390",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"90",y:"450",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"90",y:"510",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"150",y:"30",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"150",y:"90",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"150",y:"150",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1020",x:"150",y:"210",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"150",y:"270",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"150",y:"330",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1022",x:"150",y:"390",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1020",x:"150",y:"450",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"150",y:"510",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"210",y:"30",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"210",y:"90",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"210",y:"150",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"210",y:"210",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1020",x:"210",y:"270",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"210",y:"330",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"210",y:"390",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1022",x:"210",y:"450",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"210",y:"510",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"270",y:"30",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1022",x:"270",y:"90",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"270",y:"150",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1020",x:"270",y:"210",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"270",y:"270",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"270",y:"330",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1022",x:"270",y:"390",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"270",y:"450",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"270",y:"510",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"330",y:"30",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"330",y:"90",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1022",x:"330",y:"150",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1024",x:"330",y:"210",stroke:"currentColor",strokeWidth:"3"}),r.jsx("use",{href:"#SvgjsPath1019",x:"330",y:"270",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"330",y:"330",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1022",x:"330",y:"390",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"330",y:"450",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"330",y:"510",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"390",y:"30",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"390",y:"90",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"390",y:"150",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"390",y:"210",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"390",y:"270",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"390",y:"330",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"390",y:"390",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"390",y:"450",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"390",y:"510",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"450",y:"30",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1024",x:"450",y:"90",stroke:"currentColor",strokeWidth:"3"}),r.jsx("use",{href:"#SvgjsPath1022",x:"450",y:"150",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1022",x:"450",y:"210",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"450",y:"270",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1020",x:"450",y:"330",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1024",x:"450",y:"390",stroke:"currentColor",strokeWidth:"3"}),r.jsx("use",{href:"#SvgjsPath1023",x:"450",y:"450",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1022",x:"450",y:"510",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"510",y:"30",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"510",y:"90",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"510",y:"150",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1022",x:"510",y:"210",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"510",y:"270",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1022",x:"510",y:"330",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"510",y:"390",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1020",x:"510",y:"450",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1020",x:"510",y:"510",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"570",y:"30",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"570",y:"90",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"570",y:"150",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"570",y:"210",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"570",y:"270",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"570",y:"330",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1020",x:"570",y:"390",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"570",y:"450",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"570",y:"510",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1024",x:"630",y:"30",stroke:"currentColor",strokeWidth:"3"}),r.jsx("use",{href:"#SvgjsPath1023",x:"630",y:"90",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1020",x:"630",y:"150",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"630",y:"210",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"630",y:"270",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"630",y:"330",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"630",y:"390",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"630",y:"450",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"630",y:"510",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1019",x:"690",y:"30",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"690",y:"90",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"690",y:"150",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1022",x:"690",y:"210",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"690",y:"270",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1021",x:"690",y:"330",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"690",y:"390",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"690",y:"450",stroke:"currentColor"}),r.jsx("use",{href:"#SvgjsPath1023",x:"690",y:"510",stroke:"currentColor"})]})]});var zr=Object.defineProperty,Wr=(e,t,o)=>t in e?zr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,_e=(e,t,o)=>Wr(e,typeof t!="symbol"?t+"":t,o);class Vr{constructor(t){this.appConfig=t,_e(this,"email",new F("",{validators:[Me()]})),_e(this,"password",new F("")),_e(this,"group",new Ne({email:this.email,password:this.password})),ie(this,{handleSubmit:$e.bound})}handleSubmit(){this.appConfig.auth.loginMutation.mutate({email:this.email.value,password:this.password.value})}}const Ur=ce(function({pageModel:t}){const o=ue(),{t:s}=pe("login"),n=de(()=>new Vr(o),[o]);return r.jsxs(_,{layout:"vertical",onFinish:n.handleSubmit,children:[r.jsx(_.Item,{label:s("emailLabel"),name:"email",children:r.jsx(q,{placeholder:s("emailPlaceholder")})}),r.jsx(_.Item,{children:r.jsx(H,{type:"primary",htmlType:"submit",block:!0,children:s("sendLinkButton")})}),r.jsxs("div",{style:{textAlign:"center"},children:[s("rememberPassword")," ",r.jsx(H,{type:"link",onClick:t.toLogin,children:s("loginButton")})]})]})});var qr=Object.defineProperty,Kr=(e,t,o)=>t in e?qr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Re=(e,t,o)=>Kr(e,typeof t!="symbol"?t+"":t,o);class Xr{constructor(t){this.appConfig=t,Re(this,"email",new F("",{validators:[J(this.t.forms("required")),Me(this.t.forms("invalidEmail"))]})),Re(this,"password",new F("",{validators:[J(this.t.forms("required"))]})),Re(this,"group",new Ne({email:this.email,password:this.password})),ie(this,{handleSubmit:$e.bound}),console.trace("LoginFormModel created")}get t(){return this.appConfig.locale.i18n.translations}get isLoading(){return this.appConfig.auth.loginMutation.isPending}handleSubmit(){if(this.group.isInvalid){this.group.setTouched(!0),this.group.setDirty(!0),this.group.firstErrorControl?.element?.focus();return}this.appConfig.auth.loginMutation.mutateAsync({email:this.email.value,password:this.password.value}).catch(t=>{Te(t).then(()=>Te(t)).then(o=>{console.log({errorData:o}),this.appConfig.notify.error({message:o.message||"Ошибка при входе в систему"})})})}}const Gr=ce(function({pageModel:t}){const o=ue(),{t:s}=pe("login"),n=de(()=>new Xr(o),[o]);return r.jsxs(_,{layout:"vertical",onFinish:()=>{n.handleSubmit()},children:[r.jsx(_.Item,{label:s("emailLabel"),...n.email.itemProps,children:r.jsx(q,{autoComplete:"email",placeholder:s("emailPlaceholder"),...n.email.inputProps})}),r.jsx(_.Item,{label:s("passwordLabel"),...n.password.itemProps,children:r.jsx(q.Password,{autoComplete:"current-password",placeholder:s("passwordPlaceholder"),...n.password.inputProps})}),r.jsx(_.Item,{children:r.jsx(H,{type:"primary",htmlType:"submit",block:!0,loading:n.isLoading,children:s("loginButton")})}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx(H,{type:"link",onClick:t.toForgot,children:s("card.forgot")}),r.jsx(H,{type:"link",onClick:t.toRegister,children:s("card.register")})]})]})});var Jr=Object.defineProperty,Zr=(e,t,o)=>t in e?Jr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Qr=(e,t,o)=>Zr(e,t+"",o);function Yr(e){return e.isTouched&&e.isDirty&&e.errorMessage?{help:e.errorMessage,validateStatus:"error"}:{}}class es extends Bt{constructor(t,{ref:o,onChange:s,onBlur:n,onFocus:l,...u}={}){super(t,u),Qr(this,"actions"),this.actions={ref:d=>{this.element=d,o&&o(d)},onChange:d=>{this.setValue(d.target.checked),s&&s(d)},onBlur:d=>{this.setTouched(!0),this.setFocused(!1),n&&n(d)},onFocus:d=>{this.setFocused(!0),l&&l(d)}},Lt(this,{itemProps:$t})}get itemProps(){return Yr(this)}get props(){return{checked:this.value,...this.actions}}}var ts=Object.defineProperty,rs=(e,t,o)=>t in e?ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,K=(e,t,o)=>rs(e,typeof t!="symbol"?t+"":t,o);class ss{constructor(t){this.appConfig=t,K(this,"name",new F("",{validators:[J(this.t.forms("required"))]})),K(this,"email",new F("",{validators:[J(this.t.forms("required")),Me(this.t.forms("invalidEmail"))]})),K(this,"telegram",new F("@",{validators:[je(6,this.t.forms("invalidTelegram"))],onChangeValue:o=>{o.startsWith("@")||this.telegram.setValue(`@${o}`)}})),K(this,"password",new F("",{validators:[J(this.t.forms("required")),Ue(),je(6,this.t.forms("minLength",{count:6}))]})),K(this,"repassword",new F("",{validators:[J(this.t.forms("required")),Ue(),je(6,this.t.forms("minLength",{count:6})),o=>this.password.value!==o.value?[{message:this.t.forms("passwordsDoNotMatch"),type:qe.Error}]:[]]})),K(this,"agreement",new es(!1,{validators:[o=>o.value?[]:[{message:this.t.forms("required"),type:qe.Error}]]})),K(this,"group",new Ne({name:this.name,email:this.email,telegram:this.telegram,password:this.password,repassword:this.repassword,agreement:this.agreement})),ie(this,{handleSubmit:$e.bound},{autoBind:!0})}get t(){return this.appConfig.locale.i18n.translations}handleSubmit(){if(this.group.isInvalid){this.group.setTouched(!0),this.group.setDirty(!0),this.group.firstErrorControl?.element?.focus();return}const{repassword:t,agreement:o,...s}=this.group.value;this.appConfig.auth.signUpMutation.mutateAsync({...s,role:"webmaster"}).catch(n=>{Te(n).then(l=>{this.appConfig.notify.error({message:l.message||this.t.errors("unknown")})})})}}const os=ce(function({pageModel:t}){const o=ue(),{t:s}=pe("login"),n=de(()=>new ss(o),[o]);return r.jsxs(_,{layout:"vertical",onFinish:n.handleSubmit,children:[r.jsx(_.Item,{label:s("nameLabel"),...n.name.itemProps,children:r.jsx(q,{autoComplete:"name",placeholder:s("namePlaceholder"),...n.name.inputProps})}),r.jsx(_.Item,{label:s("emailLabel"),...n.email.itemProps,children:r.jsx(q,{autoComplete:"email",name:"email",placeholder:s("emailPlaceholder"),...n.email.inputProps})}),r.jsx(_.Item,{label:s("telegramLabel"),...n.telegram.itemProps,children:r.jsx(q,{autoComplete:"username",placeholder:s("emailPlaceholder"),...n.telegram.inputProps})}),r.jsx(_.Item,{label:s("passwordLabel"),...n.password.itemProps,children:r.jsx(q.Password,{autoComplete:"new-password",placeholder:s("passwordPlaceholder"),...n.password.inputProps})}),r.jsx(_.Item,{label:s("confirmPasswordLabel"),...n.repassword.itemProps,children:r.jsx(q.Password,{placeholder:s("confirmPasswordPlaceholder"),autoComplete:"new-password",...n.repassword.inputProps})}),r.jsx(_.Item,{name:"agreement",...n.agreement.itemProps,children:r.jsxs(zt,{...n.agreement.props,children:[s("agreementText")," ",r.jsx("a",{href:"/terms",target:"_blank",children:s("termsAndConditions")})]})}),r.jsx(_.Item,{children:r.jsx(H,{type:"primary",htmlType:"submit",block:!0,children:s("registerButton")})}),r.jsxs("div",{style:{textAlign:"center"},children:[s("alreadyHaveAccount")," ",r.jsx(H,{type:"link",onClick:t.toLogin,children:s("loginButton")})]})]})}),ns="_container_66bls_1",as="_card_66bls_87",ls="_title_66bls_101",is="_topBar_66bls_109",cs="_bg_66bls_118",us="_lang_66bls_137",G={container:ns,card:as,title:ls,topBar:is,bg:cs,lang:us},vs=ce(function(){const t=ue(),o=Mt(),{t:s}=pe("login",{keyPrefix:"card"}),n=de(()=>new Fr,[]),l=n.mode;return r.jsxs("div",{className:G.container,children:[r.jsx("div",{className:G.bg,children:r.jsx(Hr,{})}),r.jsxs("div",{className:G.topBar,children:[r.jsx(H,{type:"default",shape:"circle",icon:r.jsx(Wt,{}),onClick:o.toggleTheme}),r.jsx(he,{overlay:"English / Русский",children:r.jsx(H,{className:G.lang,type:"default",shape:"circle",onClick:t.locale.toggleCode,children:t.locale.code})})]}),r.jsxs(Ft,{className:G.card,children:[r.jsx(te.Title,{level:3,className:G.title,children:s(l)}),l==="login"&&r.jsx(Gr,{pageModel:n}),l==="register"&&r.jsx(os,{pageModel:n}),l==="forgot"&&r.jsx(Ur,{pageModel:n})]})]})});export{vs as LoginPage};
