import{ay as I,az as y,aA as w,a as v,j as p,m as _,aE as O,u as G}from"./index-Btd61CbF.js";import{u as R}from"./useStore-Bt3TSKIZ.js";import{I as A}from"./InfiniteQueryWithState-GZaCjmby.js";import"./queryObserver-BX9cuE63.js";function x(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function g(n,e,a,t,r,i,o){try{var f=n[i](o),u=f.value}catch(s){a(s);return}f.done?e(u):Promise.resolve(u).then(t,r)}function h(n){return function(){var e=this,a=arguments;return new Promise(function(t,r){var i=n.apply(e,a);function o(u){g(i,t,r,o,f,"next",u)}function f(u){g(i,t,r,o,f,"throw",u)}o(void 0)})}}function K(n,e,a){return e=m(e),k(n,P()?Reflect.construct(e,a||[],m(n).constructor):e.apply(n,a))}function q(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function E(n,e){for(var a=0;a<e.length;a++){var t=e[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function S(n,e,a){return e&&E(n.prototype,e),n}function m(n){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},m(n)}function j(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&b(n,e)}function k(n,e){return e&&(T(e)==="object"||typeof e=="function")?e:x(n)}function b(n,e){return b=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t},b(n,e)}function T(n){"@swc/helpers - typeof";return n&&typeof Symbol<"u"&&n.constructor===Symbol?"symbol":typeof n}function P(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P=function(){return!!n})()}function d(n,e){var a,t,r,i={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=f(0),o.throw=f(1),o.return=f(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function f(s){return function(c){return u([s,c])}}function u(s){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(a=1,t&&(r=s[0]&2?t.return:s[0]?t.throw||((r=t.return)&&r.call(t),0):t.next)&&!(r=r.call(t,s[1])).done)return r;switch(t=0,r&&(s=[s[0]&2,r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,t=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(s[0]===6||s[0]===2)){i=0;continue}if(s[0]===3&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(s[0]===6&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(n,i)}catch(c){s=[6,c],t=0}finally{a=r=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}var F=(function(n){j(e,n);function e(){return q(this,e),K(this,e,arguments)}return S(e,[{key:"offersGetRaw",value:function(t,r){return h(function(){var i,o,f,u,s;return d(this,function(c){switch(c.label){case 0:return i={},t.status!=null&&(i.status=t.status),t.categoryId!=null&&(i.category_id=t.categoryId),t.q!=null&&(i.q=t.q),o={},this.configuration&&this.configuration.apiKey?(f="X-API-Key",[4,this.configuration.apiKey("X-API-Key")]):[3,2];case 1:o[f]=c.sent(),c.label=2;case 2:return u="/offers",[4,this.request({path:u,method:"GET",headers:o,query:i},r)];case 3:return s=c.sent(),[2,new y(s)]}})}).call(this)}},{key:"offersGet",value:function(t){return h(function(){var r,i,o,f=arguments;return d(this,function(u){switch(u.label){case 0:return r=f.length>0&&f[0]!==void 0?f[0]:{},i=f.length>1?f[1]:void 0,[4,this.offersGetRaw(r,i)];case 1:return o=u.sent(),[4,o.value()];case 2:return[2,u.sent()]}})}).apply(this,arguments)}},{key:"offersIdDomainsGetRaw",value:function(t,r){return h(function(){var i,o,f,u,s;return d(this,function(c){switch(c.label){case 0:if(t.id==null)throw new w("id",'Required parameter "id" was null or undefined when calling offersIdDomainsGet().');return i={},o={},this.configuration&&this.configuration.apiKey?(f="X-API-Key",[4,this.configuration.apiKey("X-API-Key")]):[3,2];case 1:o[f]=c.sent(),c.label=2;case 2:return u="/offers/{id}/domains",u=u.replace("{id}",encodeURIComponent(String(t.id))),[4,this.request({path:u,method:"GET",headers:o,query:i},r)];case 3:return s=c.sent(),[2,new y(s)]}})}).call(this)}},{key:"offersIdDomainsGet",value:function(t,r){return h(function(){var i;return d(this,function(o){switch(o.label){case 0:return[4,this.offersIdDomainsGetRaw(t,r)];case 1:return i=o.sent(),[4,i.value()];case 2:return[2,o.sent()]}})}).call(this)}},{key:"offersIdGetRaw",value:function(t,r){return h(function(){var i,o,f,u,s;return d(this,function(c){switch(c.label){case 0:if(t.id==null)throw new w("id",'Required parameter "id" was null or undefined when calling offersIdGet().');return i={},o={},this.configuration&&this.configuration.apiKey?(f="X-API-Key",[4,this.configuration.apiKey("X-API-Key")]):[3,2];case 1:o[f]=c.sent(),c.label=2;case 2:return u="/offers/{id}",u=u.replace("{id}",encodeURIComponent(String(t.id))),[4,this.request({path:u,method:"GET",headers:o,query:i},r)];case 3:return s=c.sent(),[2,new y(s)]}})}).call(this)}},{key:"offersIdGet",value:function(t,r){return h(function(){var i;return d(this,function(o){switch(o.label){case 0:return[4,this.offersIdGetRaw(t,r)];case 1:return i=o.sent(),[4,i.value()];case 2:return[2,o.sent()]}})}).call(this)}},{key:"offersIdPayoutsGetRaw",value:function(t,r){return h(function(){var i,o,f,u,s;return d(this,function(c){switch(c.label){case 0:if(t.id==null)throw new w("id",'Required parameter "id" was null or undefined when calling offersIdPayoutsGet().');return i={},o={},this.configuration&&this.configuration.apiKey?(f="X-API-Key",[4,this.configuration.apiKey("X-API-Key")]):[3,2];case 1:o[f]=c.sent(),c.label=2;case 2:return u="/offers/{id}/payouts",u=u.replace("{id}",encodeURIComponent(String(t.id))),[4,this.request({path:u,method:"GET",headers:o,query:i},r)];case 3:return s=c.sent(),[2,new y(s)]}})}).call(this)}},{key:"offersIdPayoutsGet",value:function(t,r){return h(function(){var i;return d(this,function(o){switch(o.label){case 0:return[4,this.offersIdPayoutsGetRaw(t,r)];case 1:return i=o.sent(),[4,i.value()];case 2:return[2,o.sent()]}})}).call(this)}}]),e})(I);const X="_container_1vktp_1",D={container:X};v(function(){return p.jsx("div",{className:D.container,children:p.jsx("div",{})})});var N=Object.defineProperty,J=(n,e,a)=>e in n?N(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a,l=(n,e,a)=>J(n,typeof e!="symbol"?e+"":e,a);class Q{constructor(e){this.id=e,l(this,"createdAt",""),l(this,"updatedAt",""),l(this,"removedAt"),l(this,"title",""),l(this,"subtitle",""),l(this,"vertical",""),l(this,"category",""),l(this,"status",""),l(this,"image",""),l(this,"rules",""),l(this,"isExclusive",!1),l(this,"isTopOffer",!1),l(this,"isTest"),l(this,"accessOnRequest",!1),l(this,"cr",""),l(this,"approve",""),l(this,"available",!1),l(this,"basePayouts",[]),l(this,"payouts",[]),l(this,"locations",[]),l(this,"domains",[]),l(this,"domain",""),_(this)}updateFromJson(e){this.partialUpdateFromJson(e)}partialUpdateFromJson(e){Object.assign(this,e)}}class U extends O{constructor(){super(e=>new Q(e))}}const $=new F;var B=Object.defineProperty,z=(n,e,a)=>e in n?B(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a,M=(n,e,a)=>z(n,e+"",a);class W{constructor(e){M(this,"offersQuery"),_(this);const a=e.repositories.get(U);this.offersQuery=new A(e.queryClient,{queryKey:["admin","offers"],queryFn:()=>$.offersGet({}),getNextPageParam:(t,r)=>{const i=r.reduce((o,f)=>o+f.items.length,0);if(!(i>=t.total))return i},initialPageParam:0,transform:({pages:t}={pageParams:[],pages:[]})=>({data:t.flatMap(i=>i.items.map(o=>({data:a.get(o.id).updateFromJson(o)}))),total:(t[t.length-1]||{total:0}).total}),staleTime:1e3*60*5,refetchOnWindowFocus:!0})}get offers(){return this.offersQuery.data.data}get totalOffers(){return this.offersQuery.data.total}dispose(){console.log("dispose")}init(){console.log("init")}}const H={},L=v(function(){const e=G(),a=R(()=>new W(e),[e]);return console.log("AdminOffers model:",a),p.jsx("div",{className:H.container,children:p.jsx("div",{})})}),ee=L;export{ee as component};
