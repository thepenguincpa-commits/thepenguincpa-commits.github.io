import{d as Oe,m as _e,f as je,e as $,h as Re,r as i,c as K,B as L,D as Le,E as Ke,F as Z,G as Ne,H as Ge,I as he,J as Q,K as Pe,N as Qe,P as Xe,S as Je,g as se,w as Ue,x as q,y as X,z as Ye,k as Ze,o as Ie,j as n,L as ke,u as et,q as tt}from"./index.B-zO2jcy.js";import{L as at}from"./LayoutContainer.DB_i7kpz.js";import{O as rt,a as nt,b as ot,c as it,d as st,o as lt,C as ct}from"./CountryName.BQMzn-nx.js";import{R as dt}from"./Registry.B8N-PobL.js";import{I as ut}from"./InfiniteQueryWithState.BB8vim5Z.js";import{O as mt,B as ge}from"./Box.MGoU-yNc.js";import{O as ft}from"./OfferCategoryName.CdVa3hvL.js";import{r as te,F as ht}from"./renderReactiveCell.HbM7Emo9.js";import{F as gt,C as ae}from"./FlagIcon.Ds-_yvnp.js";import{N as pt}from"./NumberFormat.CuYZvbUu.js";import{u as vt,a as bt,I as le,T as yt}from"./AntdIcon.BzrxpPa1.js";import{C as Me}from"./EyeOutlined.DZce5g_D.js";import{R as xt}from"./GlobalOutlined.Bu5SFXv4.js";import{u as ze,o as St,B as re}from"./button.BPmN1wK-.js";import{I as $t}from"./index.CmXbVTZH.js";import{a as pe}from"./useTranslation.B4Aad4mp.js";import"./index.BcPC7EJu.js";import"./index.BmkQiUau.js";const Ct=e=>{const{componentCls:t}=e;return{[t]:{"&-horizontal":{[`&${t}`]:{"&-sm":{marginBlock:e.marginXS},"&-md":{marginBlock:e.margin}}}}}},wt=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:r,colorSplit:a,lineWidth:o,textPaddingInline:c,orientationMargin:u,verticalMarginInline:m}=e;return{[t]:Object.assign(Object.assign({},je(e)),{borderBlockStart:`${$(o)} solid ${a}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:m,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${$(o)} solid ${a}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${$(e.marginLG)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${$(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${a}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${$(o)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${u} * 100%)`},"&::after":{width:`calc(100% - ${u} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${u} * 100%)`},"&::after":{width:`calc(${u} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:c},"&-dashed":{background:"none",borderColor:a,borderStyle:"dashed",borderWidth:`${$(o)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:a,borderStyle:"dotted",borderWidth:`${$(o)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:r}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:r}}})}},Ot=e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),_t=Oe("Divider",e=>{const t=_e(e,{dividerHorizontalWithTextGutterMargin:e.margin,sizePaddingEdgeHorizontal:0});return[wt(t),Ct(t)]},Ot,{unitless:{orientationMargin:!0}});var jt=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const Rt={small:"sm",middle:"md"},Ee=e=>{const{getPrefixCls:t,direction:r,className:a,style:o}=Re("divider"),{prefixCls:c,type:u="horizontal",orientation:m="center",orientationMargin:f,className:y,rootClassName:s,children:l,dashed:j,variant:x="solid",plain:S,style:R,size:N}=e,E=jt(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),d=t("divider",c),[g,P,W]=_t(d),C=ze(N),h=Rt[C],I=!!l,w=i.useMemo(()=>m==="left"?r==="rtl"?"end":"start":m==="right"?r==="rtl"?"start":"end":m,[r,m]),O=w==="start"&&f!=null,D=w==="end"&&f!=null,B=K(d,a,P,W,`${d}-${u}`,{[`${d}-with-text`]:I,[`${d}-with-text-${w}`]:I,[`${d}-dashed`]:!!j,[`${d}-${x}`]:x!=="solid",[`${d}-plain`]:!!S,[`${d}-rtl`]:r==="rtl",[`${d}-no-default-orientation-margin-start`]:O,[`${d}-no-default-orientation-margin-end`]:D,[`${d}-${h}`]:!!h},y,s),A=i.useMemo(()=>typeof f=="number"?f:/^\d+$/.test(f)?Number(f):f,[f]),p={marginInlineStart:O?A:void 0,marginInlineEnd:D?A:void 0};return g(i.createElement("div",Object.assign({className:B,style:Object.assign(Object.assign({},o),R)},E,{role:"separator"}),l&&u!=="vertical"&&i.createElement("span",{className:`${d}-inner-text`,style:p},l)))};var ve=function(t,r){if(!t)return null;var a={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return r?{left:0,right:0,width:0,top:a.top,bottom:a.bottom,height:a.height}:{left:a.left,right:a.right,width:a.width,top:0,bottom:0,height:0}},M=function(t){return t!==void 0?"".concat(t,"px"):void 0};function Nt(e){var t=e.prefixCls,r=e.containerRef,a=e.value,o=e.getValueIndex,c=e.motionName,u=e.onMotionStart,m=e.onMotionEnd,f=e.direction,y=e.vertical,s=y===void 0?!1:y,l=i.useRef(null),j=i.useState(a),x=L(j,2),S=x[0],R=x[1],N=function(T){var H,V=o(T),F=(H=r.current)===null||H===void 0?void 0:H.querySelectorAll(".".concat(t,"-item"))[V];return F?.offsetParent&&F},E=i.useState(null),d=L(E,2),g=d[0],P=d[1],W=i.useState(null),C=L(W,2),h=C[0],I=C[1];Le(function(){if(S!==a){var p=N(S),T=N(a),H=ve(p,s),V=ve(T,s);R(a),P(H),I(V),p&&T?u():m()}},[a]);var w=i.useMemo(function(){if(s){var p;return M((p=g?.top)!==null&&p!==void 0?p:0)}return M(f==="rtl"?-g?.right:g?.left)},[s,f,g]),O=i.useMemo(function(){if(s){var p;return M((p=h?.top)!==null&&p!==void 0?p:0)}return M(f==="rtl"?-h?.right:h?.left)},[s,f,h]),D=function(){return s?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},B=function(){return s?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},A=function(){P(null),I(null),m()};return!g||!h?null:i.createElement(Ke,{visible:!0,motionName:c,motionAppear:!0,onAppearStart:D,onAppearActive:B,onVisibleChanged:A},function(p,T){var H=p.className,V=p.style,F=Z(Z({},V),{},{"--thumb-start-left":w,"--thumb-start-width":M(g?.width),"--thumb-active-left":O,"--thumb-active-width":M(h?.width),"--thumb-start-top":w,"--thumb-start-height":M(g?.height),"--thumb-active-top":O,"--thumb-active-height":M(h?.height)}),k={ref:Ne(l,T),style:F,className:K("".concat(t,"-thumb"),H)};return i.createElement("div",k)})}var Pt=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function It(e){if(typeof e.title<"u")return e.title;if(Pe(e.label)!=="object"){var t;return(t=e.label)===null||t===void 0?void 0:t.toString()}}function Mt(e){return e.map(function(t){if(Pe(t)==="object"&&t!==null){var r=It(t);return Z(Z({},t),{},{title:r})}return{label:t?.toString(),title:t?.toString(),value:t}})}var zt=function(t){var r=t.prefixCls,a=t.className,o=t.disabled,c=t.checked,u=t.label,m=t.title,f=t.value,y=t.name,s=t.onChange,l=t.onFocus,j=t.onBlur,x=t.onKeyDown,S=t.onKeyUp,R=t.onMouseDown,N=function(d){o||s(d,f)};return i.createElement("label",{className:K(a,Q({},"".concat(r,"-item-disabled"),o)),onMouseDown:R},i.createElement("input",{name:y,className:"".concat(r,"-item-input"),type:"radio",disabled:o,checked:c,onChange:N,onFocus:l,onBlur:j,onKeyDown:x,onKeyUp:S}),i.createElement("div",{className:"".concat(r,"-item-label"),title:m,"aria-selected":c},u))},Et=i.forwardRef(function(e,t){var r,a,o=e.prefixCls,c=o===void 0?"rc-segmented":o,u=e.direction,m=e.vertical,f=e.options,y=f===void 0?[]:f,s=e.disabled,l=e.defaultValue,j=e.value,x=e.name,S=e.onChange,R=e.className,N=R===void 0?"":R,E=e.motionName,d=E===void 0?"thumb-motion":E,g=Ge(e,Pt),P=i.useRef(null),W=i.useMemo(function(){return Ne(P,t)},[P,t]),C=i.useMemo(function(){return Mt(y)},[y]),h=vt((r=C[0])===null||r===void 0?void 0:r.value,{value:j,defaultValue:l}),I=L(h,2),w=I[0],O=I[1],D=i.useState(!1),B=L(D,2),A=B[0],p=B[1],T=function(_,G){O(G),S?.(G)},H=St(g,["children"]),V=i.useState(!1),F=L(V,2),k=F[0],ce=F[1],Be=i.useState(!1),de=L(Be,2),He=de[0],ue=de[1],Fe=function(){ue(!0)},De=function(){ue(!1)},Ae=function(){ce(!1)},Te=function(_){_.key==="Tab"&&ce(!0)},me=function(_){var G=C.findIndex(function(qe){return qe.value===w}),fe=C.length,Ve=(G+_+fe)%fe,ee=C[Ve];ee&&(O(ee.value),S?.(ee.value))},We=function(_){switch(_.key){case"ArrowLeft":case"ArrowUp":me(-1);break;case"ArrowRight":case"ArrowDown":me(1);break}};return i.createElement("div",he({role:"radiogroup","aria-label":"segmented control",tabIndex:s?void 0:0},H,{className:K(c,(a={},Q(a,"".concat(c,"-rtl"),u==="rtl"),Q(a,"".concat(c,"-disabled"),s),Q(a,"".concat(c,"-vertical"),m),a),N),ref:W}),i.createElement("div",{className:"".concat(c,"-group")},i.createElement(Nt,{vertical:m,prefixCls:c,value:w,containerRef:P,motionName:"".concat(c,"-").concat(d),direction:u,getValueIndex:function(_){return C.findIndex(function(G){return G.value===_})},onMotionStart:function(){p(!0)},onMotionEnd:function(){p(!1)}}),C.map(function(b){var _;return i.createElement(zt,he({},b,{name:x,key:b.value,prefixCls:c,className:K(b.className,"".concat(c,"-item"),(_={},Q(_,"".concat(c,"-item-selected"),b.value===w&&!A),Q(_,"".concat(c,"-item-focused"),He&&k&&b.value===w),_)),checked:b.value===w,onChange:T,onFocus:Fe,onBlur:De,onKeyDown:We,onKeyUp:Te,onMouseDown:Ae,disabled:!!s||!!b.disabled}))})))}),Bt=Et;function be(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function ye(e){return{backgroundColor:e.itemSelectedBg,boxShadow:e.boxShadowTertiary}}const Ht=Object.assign({overflow:"hidden"},Je),Ft=e=>{const{componentCls:t}=e,r=e.calc(e.controlHeight).sub(e.calc(e.trackPadding).mul(2)).equal(),a=e.calc(e.controlHeightLG).sub(e.calc(e.trackPadding).mul(2)).equal(),o=e.calc(e.controlHeightSM).sub(e.calc(e.trackPadding).mul(2)).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},je(e)),{display:"inline-block",padding:e.trackPadding,color:e.itemColor,background:e.trackBg,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`}),Qe(e)),{[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-vertical`]:{[`${t}-group`]:{flexDirection:"column"},[`${t}-thumb`]:{width:"100%",height:0,padding:`0 ${$(e.paddingXXS)}`}},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},ye(e)),{color:e.itemSelectedColor}),"&-focused":Xe(e),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",opacity:0,transition:`opacity ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{opacity:1,backgroundColor:e.itemHoverBg}},[`&:active:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{opacity:1,backgroundColor:e.itemActiveBg}},"&-label":Object.assign({minHeight:r,lineHeight:$(r),padding:`0 ${$(e.segmentedPaddingHorizontal)}`},Ht),"&-icon + *":{marginInlineStart:e.calc(e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:Object.assign(Object.assign({},ye(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${$(e.paddingXXS)} 0`,borderRadius:e.borderRadiusSM,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, height ${e.motionDurationSlow} ${e.motionEaseInOut}`,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:a,lineHeight:$(a),padding:`0 ${$(e.segmentedPaddingHorizontal)}`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:o,lineHeight:$(o),padding:`0 ${$(e.segmentedPaddingHorizontalSM)}`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),be(`&-disabled ${t}-item`,e)),be(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"},[`&${t}-shape-round`]:{borderRadius:9999,[`${t}-item, ${t}-thumb`]:{borderRadius:9999}}})}},Dt=e=>{const{colorTextLabel:t,colorText:r,colorFillSecondary:a,colorBgElevated:o,colorFill:c,lineWidthBold:u,colorBgLayout:m}=e;return{trackPadding:u,trackBg:m,itemColor:t,itemHoverColor:r,itemHoverBg:a,itemSelectedBg:o,itemActiveBg:c,itemSelectedColor:r}},At=Oe("Segmented",e=>{const{lineWidth:t,calc:r}=e,a=_e(e,{segmentedPaddingHorizontal:r(e.controlPaddingHorizontal).sub(t).equal(),segmentedPaddingHorizontalSM:r(e.controlPaddingHorizontalSM).sub(t).equal()});return Ft(a)},Dt);var xe=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};function Tt(e){return typeof e=="object"&&!!e?.icon}const Wt=i.forwardRef((e,t)=>{const r=bt(),{prefixCls:a,className:o,rootClassName:c,block:u,options:m=[],size:f="middle",style:y,vertical:s,shape:l="default",name:j=r}=e,x=xe(e,["prefixCls","className","rootClassName","block","options","size","style","vertical","shape","name"]),{getPrefixCls:S,direction:R,className:N,style:E}=Re("segmented"),d=S("segmented",a),[g,P,W]=At(d),C=ze(f),h=i.useMemo(()=>m.map(O=>{if(Tt(O)){const{icon:D,label:B}=O,A=xe(O,["icon","label"]);return Object.assign(Object.assign({},A),{label:i.createElement(i.Fragment,null,i.createElement("span",{className:`${d}-item-icon`},D),B&&i.createElement("span",null,B))})}return O}),[m,d]),I=K(o,c,N,{[`${d}-block`]:u,[`${d}-sm`]:C==="small",[`${d}-lg`]:C==="large",[`${d}-vertical`]:s,[`${d}-shape-${l}`]:l==="round"},P,W),w=Object.assign(Object.assign({},E),y);return g(i.createElement(Bt,Object.assign({},x,{name:j,className:I,style:w,options:h,ref:t,prefixCls:d,direction:R,vertical:s})))}),Vt=Wt;var J={},Se;function qt(){if(Se)return J;Se=1,Object.defineProperty(J,"__esModule",{value:!0});var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};return J.default=e,J}var Lt=qt();const Kt=se(Lt);function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ne.apply(this,arguments)}const Gt=(e,t)=>i.createElement(le,ne({},e,{ref:t,icon:Kt})),Qt=i.forwardRef(Gt);var U={},$e;function Xt(){if($e)return U;$e=1,Object.defineProperty(U,"__esModule",{value:!0});var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};return U.default=e,U}var Jt=Xt();const Ut=se(Jt);function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},oe.apply(this,arguments)}const Yt=(e,t)=>i.createElement(le,oe({},e,{ref:t,icon:Ut})),Zt=i.forwardRef(Yt);var Y={},Ce;function kt(){if(Ce)return Y;Ce=1,Object.defineProperty(Y,"__esModule",{value:!0});var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};return Y.default=e,Y}var ea=kt();const ta=se(ea);function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ie.apply(this,arguments)}const aa=(e,t)=>i.createElement(le,ie({},e,{ref:t,icon:ta})),ra=i.forwardRef(aa);var na=Object.defineProperty,oa=(e,t,r)=>t in e?na(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ia=(e,t,r)=>oa(e,t+"",r);class sa{constructor(t,r,a){this.appContext=t,this.categoriesQuery=r,this.currentItem=a,ia(this,"data"),this.data=this.parseData(a),Ue(this,{data:Ye.ref,offer:q,category:q,locations:q({equals:X.shallow}),basePayouts:q({equals:X.shallow}),personalPayouts:q({equals:X.shallow}),domains:q({equals:X.shallow}),repositories:q({equals:X.shallow})})}parseData({locations:t,basePayouts:r,personalPayouts:a,domains:o,...c}){const u=this.appContext.repositories.get(rt),m=this.appContext.repositories.get(nt),f=this.appContext.repositories.get(ot),y=this.appContext.repositories.get(it),s=this.appContext.repositories.get(mt);return{offer:u.get(c.id).updateFromJson({...c,locations:t.map(l=>l.id),basePayouts:r.map(l=>l.id),personalPayouts:a.map(l=>l.id),domains:o.map(l=>l.id)}),locations:t.map(l=>m.get(l.id).updateFromJson(l)),basePayouts:r.map(l=>f.get(l.id).updateFromJson(l)),personalPayouts:a.map(l=>y.get(l.id).updateFromJson(l)),domains:o.map(l=>s.get(l.id).updateFromJson(l)),offerRepository:u,locationRepository:m,personalPayoutRepository:y,basePayoutRepository:f,domainRepository:s}}get repositories(){return{offer:this.data.offerRepository,locations:this.data.locationRepository,domains:this.data.domainRepository,personalPayouts:this.data.personalPayoutRepository,basePayouts:this.data.basePayoutRepository,categories:this.categoriesQuery.repository}}updateFromJson(t){t!==this.currentItem&&(this.data=this.parseData(t))}get offer(){return this.data.offer}get category(){return this.categoriesQuery.repository.get(this.offer.category)}get locations(){return this.data.locations}get basePayouts(){return this.data.basePayouts}get personalPayouts(){return this.data.personalPayouts}get domains(){return this.data.domains}}var la=Object.defineProperty,ca=(e,t,r)=>t in e?la(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,we=(e,t,r)=>ca(e,typeof t!="symbol"?t+"":t,r);class da{constructor(t){we(this,"offersQuery"),we(this,"categoriesQuery"),Ze(this),this.categoriesQuery=new st(t);const r=new WeakMap;this.offersQuery=new ut(t.queryClient,{queryKey:["webmaster","offers"],queryFn:()=>lt.getOffers({offset:0,limit:20}),getNextPageParam:(a,o)=>{const c=o.reduce((u,m)=>u+m.items.length,0);if(!(c>=a.total))return c},initialPageParam:0,transform:({pages:a}={pageParams:[],pages:[]})=>({data:a.flatMap(c=>{let u=r.get(c);return u||(u=new dt(m=>new sa(t,this.categoriesQuery,m))),u.from(c.items)}),total:(a[a.length-1]||{total:0}).total}),staleTime:1e3*60*5,refetchOnWindowFocus:!0})}get offers(){return this.offersQuery.data.data}get totalOffers(){return this.offersQuery.data.total}dispose(){console.log("dispose")}init(){console.log("init")}}const ua="_card_7rx0a_1",ma="_header_7rx0a_6",fa="_logo_7rx0a_13",ha="_info_7rx0a_21",ga="_title_7rx0a_26",pa="_subtitle_7rx0a_30",va="_meta_7rx0a_34",ba="_langCount_7rx0a_46",ya="_langIcon_7rx0a_51",xa="_table_7rx0a_55",Sa="_footer_7rx0a_59",$a="_plus_7rx0a_64",Ca="_countryCell_7rx0a_68",wa="_payoutModified_7rx0a_75",Oa="_payoutCell_7rx0a_81",_a="_priceCell_7rx0a_85",v={card:ua,header:ma,logo:fa,info:ha,title:ga,subtitle:pa,meta:va,langCount:ba,langIcon:ya,table:xa,footer:Sa,plus:$a,countryCell:Ca,payoutModified:wa,payoutCell:Oa,priceCell:_a},ja=Ie(function({item:t}){const{offer:r,category:a,basePayouts:o,locations:c,personalPayouts:u}=t,m=r.domains?.length||0,f=i.useMemo(()=>[{title:"Страна",dataIndex:"country",key:"country",width:"100%",render:te(({location:s})=>n.jsxs("div",{className:v.countryCell,children:[n.jsx(gt,{code:s.countryCode}),n.jsx(ct,{code:s.countryCode})]}))},{title:"Выпл. $",dataIndex:"payout",key:"payout",render:te(({payout:s,basePayout:l})=>s?n.jsx(yt,{overlay:`Специальные условия: ${n.jsx(pt,{signDisplay:"always",value:s.amount-l.amount})}`,children:n.jsx("div",{className:K(v.payoutCell,v.payoutModified),children:n.jsx(ae,{code:s.currency,value:s.amount})})}):n.jsx("div",{className:v.payoutCell,children:n.jsx(ae,{code:l.currency,value:l.amount})}))},{title:"На сайте",dataIndex:"sitePrice",key:"sitePrice",render:te(({location:s})=>n.jsx("div",{className:v.priceCell,children:n.jsx(ae,{code:s.currency,value:s.price})}))}],[]),y=c.map(s=>{const l=o.find(x=>x.location===s.id)||o[0],j=u.find(x=>x.location===s.id);return{id:s.id,location:s,basePayout:l,payout:j}});return n.jsx(ke,{to:"/offers/$offerId",params:{offerId:r.id},children:n.jsxs(Me,{hoverable:!0,className:v.card,children:[n.jsxs("div",{className:v.header,children:[n.jsx("img",{src:r.image,alt:r.title,className:v.logo}),n.jsxs("div",{className:v.info,children:[n.jsx("h4",{className:v.title,children:r.title}),n.jsx("span",{className:v.subtitle,children:r.subtitle})]}),n.jsxs("div",{className:v.meta,children:[n.jsx("span",{children:"Категория: "}),n.jsx("span",{className:v.category,children:n.jsx(ft,{category:a})}),n.jsx("br",{}),n.jsxs("span",{children:[m," ",n.jsx("span",{className:v.langCount,children:"языков"})," ",n.jsx(xt,{className:v.langIcon})]})]})]}),n.jsx(Ee,{}),n.jsx(ht,{rowKey:"id",columns:f,dataSource:y,pagination:!1,size:"small",className:v.table}),n.jsx("div",{className:v.footer,children:n.jsxs(re,{type:"primary",children:["Подключить оффер ",n.jsx("span",{className:v.plus,children:"+"})]})})]})})}),Ra="_filterCard_aszee_1",Na="_header_aszee_5",Pa="_title_aszee_12",Ia="_count_aszee_18",Ma="_countGray_aszee_23",za="_search_aszee_28",Ea="_filtersRow_aszee_34",Ba="_select_aszee_42",z={filterCard:Ra,header:Na,title:Pa,count:Ia,countGray:Ma,search:za,filtersRow:Ea,select:Ba},Ha=[{label:"Категория",value:"all"}],Fa=[{label:"Гео",value:"all"}],Da=()=>n.jsxs(Me,{className:z.filterCard,children:[n.jsxs("div",{className:z.header,children:[n.jsx("span",{className:z.title,children:"Офферы"}),n.jsx(Vt,{options:[{label:n.jsxs(n.Fragment,{children:["Все ",n.jsx("span",{className:z.count,children:"102"})]}),value:"all"},{label:n.jsxs(n.Fragment,{children:["Мои ",n.jsx("span",{className:z.countGray,children:"19"})]}),value:"my"}],defaultValue:"all",className:z.segmented}),n.jsx($t,{placeholder:"Поиск по офферам",prefix:n.jsx(ra,{}),className:z.search})]}),n.jsx(Ee,{}),n.jsxs("div",{className:z.filtersRow,children:[n.jsxs(ge,{gap:"sm",children:[n.jsx(pe,{options:Ha,defaultValue:"all",className:z.select}),n.jsx(pe,{options:Fa,defaultValue:"all",className:z.select})]}),n.jsxs(ge,{gap:"sm",children:[n.jsxs(re,{type:"primary",children:["Применить фильтр ",n.jsx(Qt,{})]}),n.jsx(re,{icon:n.jsx(Zt,{})})]})]})]}),Aa=Ie(function(){const t=et(),a=tt(()=>new da(t),[t]).offers;return n.jsxs(at,{size:"lg",children:[n.jsx(Da,{}),a.map(o=>n.jsx(ja,{item:o},o.offer.id))]})}),nr=Aa;export{nr as component};
