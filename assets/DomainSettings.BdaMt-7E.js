import{C as ke,W as Oe,T as ae,r as u,Y as Be,s as A,p as Ee,aq as Le,aj as Te,$ as Ne,a9 as Me,aQ as De,aa as Re,c as ze,ba as He,bb as re,bc as We,bd as Ae,be as Fe,bf as Qe,F as qe,bg as Ve,m as z,k as Q,f as ce,e as Ue,P as Ye,bh as Ge,o as f,j as n,t as Xe}from"./index.CJpzWARr.js";import{I as Je}from"./AntdIcon.BEv94oZ9.js";import{b as Ze,a as Ke,L as et}from"./_baseIteratee.CoQUSKdO.js";import{c as x,d as tt,r as L,h as rt,F as st,a as q,m as nt,b as p}from"./validators.puhu6pph.js";import{S as V}from"./SelectControl.BdHLXDxG.js";import{g as it}from"./CountryName.Cqd_TUYv.js";import{g as ot,I as at}from"./LanguageName.DxFQWD1J.js";import{G as U}from"./GridRow.DmVNsMLH.js";import{C as T}from"./row.ZVKcDUTg.js";import{I as b}from"./index.UwxdIMsP.js";import{T as d}from"./index.DiegRQm1.js";import{u as le}from"./useTranslation.D1-YSIqG.js";import{S as H}from"./index.C7EzEdlH.js";import{B as ct}from"./Box.CvVauy6S.js";import{C as ue}from"./Input.BJc5rBil.js";import{u as de}from"./useTranslation.DVdJGqhZ.js";import{C as lt}from"./index.B7lSVg36.js";import{S as ut}from"./Table.CnZn0sov.js";import{r as dt}from"./button.CTAkPJpI.js";const N=(r,e,t,s,i)=>({background:r,border:`${ae(s.lineWidth)} ${s.lineType} ${e}`,[`${i}-icon`]:{color:t}}),mt=r=>{const{componentCls:e,motionDurationSlow:t,marginXS:s,marginSM:i,fontSize:o,fontSizeLG:c,lineHeight:a,borderRadiusLG:l,motionEaseInOutCirc:m,withDescriptionIconSize:j,colorText:C,colorTextHeading:S,withDescriptionPadding:w,defaultPadding:h}=r;return{[e]:Object.assign(Object.assign({},Oe(r)),{position:"relative",display:"flex",alignItems:"center",padding:h,wordWrap:"break-word",borderRadius:l,[`&${e}-rtl`]:{direction:"rtl"},[`${e}-content`]:{flex:1,minWidth:0},[`${e}-icon`]:{marginInlineEnd:s,lineHeight:0},"&-description":{display:"none",fontSize:o,lineHeight:a},"&-message":{color:S},[`&${e}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${t} ${m}, opacity ${t} ${m},
        padding-top ${t} ${m}, padding-bottom ${t} ${m},
        margin-bottom ${t} ${m}`},[`&${e}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${e}-with-description`]:{alignItems:"flex-start",padding:w,[`${e}-icon`]:{marginInlineEnd:i,fontSize:j,lineHeight:0},[`${e}-message`]:{display:"block",marginBottom:s,color:S,fontSize:c},[`${e}-description`]:{display:"block",color:C}},[`${e}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},pt=r=>{const{componentCls:e,colorSuccess:t,colorSuccessBorder:s,colorSuccessBg:i,colorWarning:o,colorWarningBorder:c,colorWarningBg:a,colorError:l,colorErrorBorder:m,colorErrorBg:j,colorInfo:C,colorInfoBorder:S,colorInfoBg:w}=r;return{[e]:{"&-success":N(i,s,t,r,e),"&-info":N(w,S,C,r,e),"&-warning":N(a,c,o,r,e),"&-error":Object.assign(Object.assign({},N(j,m,l,r,e)),{[`${e}-description > pre`]:{margin:0,padding:0}})}}},ht=r=>{const{componentCls:e,iconCls:t,motionDurationMid:s,marginXS:i,fontSizeIcon:o,colorIcon:c,colorIconHover:a}=r;return{[e]:{"&-action":{marginInlineStart:i},[`${e}-close-icon`]:{marginInlineStart:i,padding:0,overflow:"hidden",fontSize:o,lineHeight:ae(o),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${t}-close`]:{color:c,transition:`color ${s}`,"&:hover":{color:a}}},"&-close-text":{color:c,transition:`color ${s}`,"&:hover":{color:a}}}}},gt=r=>({withDescriptionIconSize:r.fontSizeHeading3,defaultPadding:`${r.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${r.paddingMD}px ${r.paddingContentHorizontalLG}px`}),ft=ke("Alert",r=>[mt(r),pt(r),ht(r)],gt);var se=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(r);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(r,s[i])&&(t[s[i]]=r[s[i]]);return t};const xt={success:Re,info:De,error:Me,warning:Ne},bt=r=>{const{icon:e,prefixCls:t,type:s}=r,i=xt[s]||null;return e?dt(e,u.createElement("span",{className:`${t}-icon`},e),()=>({className:A(`${t}-icon`,e.props.className)})):u.createElement(i,{className:`${t}-icon`})},vt=r=>{const{isClosable:e,prefixCls:t,closeIcon:s,handleClose:i,ariaProps:o}=r,c=s===!0||s===void 0?u.createElement(ze,null):s;return e?u.createElement("button",Object.assign({type:"button",onClick:i,className:`${t}-close-icon`,tabIndex:0},o),c):null},me=u.forwardRef((r,e)=>{const{description:t,prefixCls:s,message:i,banner:o,className:c,rootClassName:a,style:l,onMouseEnter:m,onMouseLeave:j,onClick:C,afterClose:S,showIcon:w,closable:h,closeText:O,closeIcon:$,action:G,id:pe}=r,he=se(r,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[X,ge]=u.useState(!1),J=u.useRef(null);u.useImperativeHandle(e,()=>({nativeElement:J.current}));const{getPrefixCls:fe,direction:xe,closable:I,closeIcon:Z,className:be,style:ve}=Be("alert"),g=fe("alert",s),[ye,Pe,je]=ft(g),Ce=v=>{var k;ge(!0),(k=r.onClose)===null||k===void 0||k.call(r,v)},K=u.useMemo(()=>r.type!==void 0?r.type:o?"warning":"info",[r.type,o]),$e=u.useMemo(()=>typeof h=="object"&&h.closeIcon||O?!0:typeof h=="boolean"?h:$!==!1&&$!==null&&$!==void 0?!0:!!I,[O,$,h,I]),ee=o&&w===void 0?!0:w,Ie=A(g,`${g}-${K}`,{[`${g}-with-description`]:!!t,[`${g}-no-icon`]:!ee,[`${g}-banner`]:!!o,[`${g}-rtl`]:xe==="rtl"},be,c,a,je,Pe),_e=Ee(he,{aria:!0,data:!0}),Se=u.useMemo(()=>typeof h=="object"&&h.closeIcon?h.closeIcon:O||($!==void 0?$:typeof I=="object"&&I.closeIcon?I.closeIcon:Z),[$,h,O,Z]),we=u.useMemo(()=>{const v=h??I;if(typeof v=="object"){const{closeIcon:k}=v;return se(v,["closeIcon"])}return{}},[h,I]);return ye(u.createElement(Le,{visible:!X,motionName:`${g}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:v=>({maxHeight:v.offsetHeight}),onLeaveEnd:S},({className:v,style:k},te)=>u.createElement("div",Object.assign({id:pe,ref:Te(J,te),"data-show":!X,className:A(Ie,v),style:Object.assign(Object.assign(Object.assign({},ve),l),k),onMouseEnter:m,onMouseLeave:j,onClick:C,role:"alert"},_e),ee?u.createElement(bt,{description:t,icon:r.icon,prefixCls:g,type:K}):null,u.createElement("div",{className:`${g}-content`},i?u.createElement("div",{className:`${g}-message`},i):null,t?u.createElement("div",{className:`${g}-description`},t):null),G?u.createElement("div",{className:`${g}-action`},G):null,u.createElement(vt,{isClosable:$e,prefixCls:g,closeIcon:Se,handleClose:Ce,ariaProps:we}))))});function yt(r,e,t){return e=re(e),He(r,We()?Reflect.construct(e,t||[],re(r).constructor):e.apply(r,t))}let Pt=(function(r){function e(){var t;return Qe(this,e),t=yt(this,e,arguments),t.state={error:void 0,info:{componentStack:""}},t}return Ae(e,r),Fe(e,[{key:"componentDidCatch",value:function(s,i){this.setState({error:s,info:i})}},{key:"render",value:function(){const{message:s,description:i,id:o,children:c}=this.props,{error:a,info:l}=this.state,m=l?.componentStack||null,j=typeof s>"u"?(a||"").toString():s,C=typeof i>"u"?m:i;return a?u.createElement(me,{id:o,type:"error",message:j,description:u.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},C)}):c}}])})(u.Component);const Y=me;Y.ErrorBoundary=Pt;var M={},ne;function jt(){if(ne)return M;ne=1,Object.defineProperty(M,"__esModule",{value:!0});var r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};return M.default=r,M}var Ct=jt();const $t=qe(Ct);function F(){return F=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},F.apply(this,arguments)}const It=(r,e)=>u.createElement(Je,F({},r,{ref:e,icon:$t})),br=u.forwardRef(It);function _t(r,e){return r&&r.length?Ve(r,Ze(e)):[]}var St=Object.defineProperty,wt=(r,e,t)=>e in r?St(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,B=(r,e,t)=>wt(r,typeof e!="symbol"?e+"":e,t);function E(r=""){const e=r.split(".");return{subdomain:e.slice(0,-2).join("."),domain:e.slice(-2).join(".")}}class kt extends x{constructor(e,t,s,{validators:i=[],...o}={}){super(s,{...o,validators:i.concat([()=>this.subdomain.errors,()=>this.domain.errors]),itemProps:()=>({...this.subdomain.itemProps,...this.domain.itemProps})}),B(this,"domain"),B(this,"subdomain"),B(this,"custom"),B(this,"isCustom",!1),B(this,"setIsCustom",a=>{this.isCustom=a,a?this.setValue(this.custom.value):this.setValue(`${this.subdomain.value}.${this.domain.value}`)});const c=e.locale.translations;z(this,{isCustom:ce,setIsCustom:Q.bound}),this.subdomain=new x(()=>E(this.initialValue).subdomain,{validators:[a=>a.value?tt(()=>c.forms("invalidDomain"))(a):[]],isActive:()=>!this.isCustom,onChange:(a,l)=>{const{domain:m}=E(this.value);this.setValue(`${l}.${m}`)},ref:a=>{this.element=a}}),this.domain=new V(()=>E(this.initialValue).domain,{validators:[L(()=>c.forms("required"))],onChange:(a,l)=>{const{subdomain:m}=E(this.value);this.setValue(`${m}.${l}`)},isActive:()=>!this.isCustom,options:()=>t.items.map(a=>({value:a.hostname,label:a.hostname})),props:()=>({loading:t.isLoading})}),this.custom=new x(()=>E(this.initialValue).subdomain,{validators:[L(()=>c.forms("required")),rt(()=>c.forms("invalidDomain"))],onChange:(a,l)=>{this.setValue(l)},isActive:()=>this.isCustom,ref:a=>{this.element=a}})}}var Ot=Object.defineProperty,Bt=(r,e,t)=>e in r?Ot(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,D=(r,e,t)=>Bt(r,typeof e!="symbol"?e+"":e,t);class ie extends st{constructor(e){super(e,{}),D(this,"facebook"),D(this,"google"),D(this,"mail"),D(this,"yandex");const t=s=>new x(()=>e().find(o=>o.type===s)?.value||"",{onChange:(i,o)=>{const c={type:s,value:o},a=this.value.slice(),l=a.findIndex(m=>m.type===s);c.value===""?l!==-1&&a.splice(l,1):l===-1?a.push(c):a[l]=c,this.setValue(a)}});this.facebook=t("facebook"),this.google=t("google"),this.mail=t("mail"),this.yandex=t("yandex")}reset(){return this.facebook.reset(),this.google.reset(),this.mail.reset(),this.yandex.reset(),super.reset(),this}}var Et=Object.defineProperty,Lt=(r,e,t)=>e in r?Et(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Tt=(r,e,t)=>Lt(r,e+"",t);class Nt extends V{constructor(e,{templates:t,...s}){super(e,s),Tt(this,"templatesGetter"),this.templatesGetter=t,z(this,{options:Ue({equals:Ye.shallow}),onChange:Q.bound})}onChange(e){this.setValue([e])}get options(){return this.templatesGetter()}}class oe extends q{constructor(e,t,s,i,o){const c=e.locale.translations;super({hostname:new kt(e,t,()=>i().hostname,{validators:[L(()=>c.forms("required"))],isActive:()=>this.isActive}),pageSnippets:new ie(()=>i().pageSnippets),thankYouPageSnippets:new ie(()=>i().thankYouPageSnippets),templates:new Nt(()=>i().templates,{templates:s,validators:[nt(1,()=>c.campaign("form.templates.required")),L(()=>c.forms("required"))],isActive:()=>this.isActive})}),this.appContext=e,this.hostnamesQuery=t,this.templates=s,this.isActive=o,z(this,{isActive:ce,setIsActive:Q.bound})}setIsActive(e){this.isActive=e}}class Mt extends q{constructor(e,t){const s=e.locale.translations;super({sid1:new x(()=>t().sid1,{props:()=>({placeholder:s.campaign("form.utmSid1Placeholder")}),itemProps:()=>({label:s.campaign("form.utmSid1Label")})}),sid2:new x(()=>t().sid2,{props:()=>({placeholder:s.campaign("form.utmSid2Placeholder")}),itemProps:()=>({label:s.campaign("form.utmSid2Label")})}),sid3:new x(()=>t().sid3,{props:()=>({placeholder:s.campaign("form.utmSid3Placeholder")}),itemProps:()=>({label:s.campaign("form.utmSid3Label")})}),sid4:new x(()=>t().sid4,{props:()=>({placeholder:s.campaign("form.utmSid4Placeholder")}),itemProps:()=>({label:s.campaign("form.utmSid4Label")})}),sid5:new x(()=>t().sid5,{props:()=>({placeholder:s.campaign("form.utmSid5Placeholder")}),itemProps:()=>({label:s.campaign("form.utmSid5Label")})})})}}var Dt=Object.defineProperty,Rt=(r,e,t)=>e in r?Dt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,P=(r,e,t)=>Rt(r,typeof e!="symbol"?e+"":e,t);class vr{constructor(e,t,s,i){this.appContext=e,this.hostnamesQuery=t,this.offerQuery=s,this.campaign=i,P(this,"name"),P(this,"trafficSource"),P(this,"country"),P(this,"language"),P(this,"utmParams"),P(this,"landing"),P(this,"transit"),P(this,"group");const o=e.locale.translations,c=L(()=>o.forms("required"));this.name=new x(()=>i.name,{validators:[c],props:()=>({placeholder:o.campaign("form.namePlaceholder")}),itemProps:()=>({label:o.campaign("form.nameLabel")})}),this.trafficSource=new V(()=>i.trafficSource,{validators:[c],props:()=>({placeholder:o.campaign("form.trafficSourcePlaceholder")}),itemProps:()=>({label:o.campaign("form.trafficSourceLabel")}),options:()=>Object.values(Ge).map(a=>({value:a,label:a}))}),this.country=new Ke(e,()=>i.country,{validators:[c],props:()=>({placeholder:o.campaign("form.countryPlaceholder")}),itemProps:()=>({label:o.campaign("form.countryLabel")}),options:()=>s.store.locations.map(a=>{const l=`[${a.country}] ${it(e.locale.translations.countries,a.country)}`;return{value:a.id,label:l}})}),this.language=new et(e,()=>i.language,{validators:[c],props:()=>({placeholder:o.campaign("form.languagePlaceholder")}),itemProps:()=>({label:o.campaign("form.languageLabel")}),options:()=>_t(s.store.landings.flatMap(a=>a.languages.map(l=>{const m=`[${l}] ${ot(e.locale.code,l)}`;return{value:l,label:m}})),"value")}),this.utmParams=new Mt(e,()=>i.utmParams),this.landing=new oe(e,t,()=>this.offerQuery.data.landings.filter(a=>a.languages.includes(this.language.value)),()=>i.landing,!0),this.transit=new oe(e,t,()=>this.offerQuery.data.transits.filter(a=>a.languages.includes(this.language.value)),()=>i.landing,!1),this.group=new q({name:this.name,trafficSource:this.trafficSource,country:this.country,language:this.language,utmParams:this.utmParams,landing:this.landing,transit:this.transit}),z(this,{})}get parsedValue(){const e=this.group.value;return{...e,transit:this.group.controls.transit.isActive?e.transit:void 0}}}const yr=f(function({model:e}){return n.jsxs(U,{children:[n.jsx(T,{xs:24,md:11,xl:12,children:n.jsxs(p,{layout:"vertical",children:[n.jsx(p.Item,{...e.controls.sid1.itemProps,children:n.jsx(b,{...e.controls.sid1.inputProps})}),n.jsx(p.Item,{...e.controls.sid2.itemProps,children:n.jsx(b,{...e.controls.sid2.inputProps})}),n.jsx(p.Item,{...e.controls.sid3.itemProps,children:n.jsx(b,{...e.controls.sid3.inputProps})}),n.jsx(p.Item,{...e.controls.sid4.itemProps,children:n.jsx(b,{...e.controls.sid4.inputProps})}),n.jsx(p.Item,{...e.controls.sid5.itemProps,children:n.jsx(b,{...e.controls.sid5.inputProps})})]})}),n.jsx(T,{xs:24,md:13,xl:12,children:n.jsx(Y,{type:"info",description:n.jsxs(n.Fragment,{children:[n.jsxs(d.Paragraph,{type:"secondary",style:{maxWidth:"80ch"},children:["Некоторые рекламные системы используют"," ",n.jsx(d.Text,{code:!0,children:"utm-метки"})," и подставляют их к партнерской ссылке автоматически. В нашей системе у вас есть возможность смотреть статистику по таким меткам, аналогично меткам"," ",n.jsx(d.Text,{code:!0,children:"sid"}),". Для этого нужно связать конкретные параметры"," ",n.jsx(d.Text,{code:!0,children:"utm-меток"})," с конкретным"," ",n.jsx(d.Text,{code:!0,children:"sid"}),"."]}),n.jsxs(d.Paragraph,{type:"secondary",style:{maxWidth:"80ch"},children:["Например, если для",n.jsx(d.Text,{code:!0,children:"sid1"})," задано значение",n.jsx(d.Text,{code:!0,children:"utm_content"}),", то при переходе по ссылке"," ",n.jsx(d.Text,{code:!0,children:"http://landing.example.com/?utm_content=my_content"})," ","в ",n.jsx(d.Text,{code:!0,children:"sid1"}),"будет сохранено значение",n.jsx(d.Text,{code:!0,children:"my_content"})]}),n.jsxs(d.Paragraph,{type:"secondary",style:{maxWidth:"80ch",marginBottom:0},children:["В случае, если в URL переданы одновременно"," ",n.jsx(d.Text,{code:!0,children:"sid"})," и соответствующая ему utm-метка, предпочтение отдается параметру"," ",n.jsx(d.Text,{code:!0,children:"sid"}),". ",n.jsx("br",{}),"Например, в URL"," ",n.jsx(d.Text,{code:!0,children:"http://landing.example.com/?sid1=a1&utm_content=b1"})," ","в ",n.jsx(d.Text,{code:!0,children:"sid"})," будет сохранено значение ",n.jsx(d.Text,{code:!0,children:"a1"}),"."]})]})})})]})});var zt=Object.defineProperty,Ht=(r,e,t)=>e in r?zt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,y=(r,e,t)=>Ht(r,typeof e!="symbol"?e+"":e,t);class Pr{constructor(e){y(this,"breakpoints",{xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px"}),y(this,"_currentWidth"),y(this,"_currentHeight"),y(this,"_currentBreakpoint","xs"),y(this,"resizeObserver"),y(this,"mediaQueryLists",new Map),y(this,"element"),y(this,"handleMediaQueryChange",()=>{this._currentBreakpoint=this.getBreakpointFromMediaQueries(),this._currentWidth=window.innerWidth,this._currentHeight=window.innerHeight}),y(this,"handleElementResize",t=>{if(t.length>0){const s=t[0];this._currentWidth=s.contentRect.width,this._currentHeight=s.contentRect.height,this._currentBreakpoint=this.calculateBreakpoint(this._currentWidth)}}),this.element=e,e?(this._currentWidth=e.clientWidth,this._currentHeight=e.clientHeight,this._currentBreakpoint=this.calculateBreakpoint(this._currentWidth)):(this._currentWidth=window.innerWidth,this._currentHeight=window.innerHeight,this._currentBreakpoint=this.getBreakpointFromMediaQueries()),Xe(this,{},{autoBind:!0}),this.init()}init(){this.element?typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(this.handleElementResize),this.resizeObserver.observe(this.element)):this.setupMediaQueries()}setupMediaQueries(){const e={xs:`(max-width: ${parseInt(this.breakpoints.sm)-1}px)`,sm:`(min-width: ${this.breakpoints.sm}) and (max-width: ${parseInt(this.breakpoints.md)-1}px)`,md:`(min-width: ${this.breakpoints.md}) and (max-width: ${parseInt(this.breakpoints.lg)-1}px)`,lg:`(min-width: ${this.breakpoints.lg}) and (max-width: ${parseInt(this.breakpoints.xl)-1}px)`,xl:`(min-width: ${this.breakpoints.xl}) and (max-width: ${parseInt(this.breakpoints.xxl)-1}px)`,xxl:`(min-width: ${this.breakpoints.xxl})`};Object.entries(e).forEach(([t,s])=>{const i=window.matchMedia(s);this.mediaQueryLists.set(t,i),i.addEventListener("change",this.handleMediaQueryChange),i.matches&&(this._currentBreakpoint=t)})}getBreakpointFromMediaQueries(){for(const[e,t]of this.mediaQueryLists)if(t.matches)return e;return"xs"}calculateBreakpoint(e){return e>=parseInt(this.breakpoints.xxl)?"xxl":e>=parseInt(this.breakpoints.xl)?"xl":e>=parseInt(this.breakpoints.lg)?"lg":e>=parseInt(this.breakpoints.md)?"md":e>=parseInt(this.breakpoints.sm)?"sm":"xs"}get currentWidth(){return this._currentWidth}get currentHeight(){return this._currentHeight}get currentBreakpoint(){return this._currentBreakpoint}isBreakpoint(e){return this.currentBreakpoint===e}isBreakpointUp(e){const t=["xs","sm","md","lg","xl","xxl"],s=t.indexOf(this.currentBreakpoint),i=t.indexOf(e);return s>=i}isBreakpointDown(e){const t=["xs","sm","md","lg","xl","xxl"],s=t.indexOf(this.currentBreakpoint),i=t.indexOf(e);return s<=i}getBreakpointValue(e){return this.breakpoints[e]}get isMobile(){return this.isBreakpointDown("sm")}get isTablet(){return this.isBreakpointUp("sm")&&this.isBreakpointDown("lg")}get isDesktop(){return this.isBreakpointUp("lg")}get isTrackingElement(){return!!this.element}get isTrackingWindow(){return!this.element}destroy(){this.element&&this.resizeObserver?(this.resizeObserver.unobserve(this.element),this.resizeObserver.disconnect()):(this.mediaQueryLists.forEach(e=>{e.removeEventListener("change",this.handleMediaQueryChange)}),this.mediaQueryLists.clear())}}const jr=f(function({model:e}){return n.jsx(p.Item,{...e.itemProps,children:n.jsx(b,{...e.inputProps})})}),Cr=f(function({model:e,tooltip:t}){const{t:s}=le("campaign");return n.jsx(p.Item,{...e.itemProps,label:n.jsx(n.Fragment,{children:s("form.countryLabel")}),tooltip:t,children:n.jsx(H,{...e.inputProps})})}),$r=f(function({model:e}){return n.jsx(p.Item,{...e.itemProps,children:n.jsx(H,{...e.inputProps})})}),Ir=f(function({offer:e}){const{t}=le("campaign");return n.jsx(p.Item,{label:t("form.offerIdLabel"),children:n.jsx(b,{disabled:!0,value:e.title})})}),_r=f(function({model:e}){return n.jsx(p.Item,{...e.itemProps,children:n.jsx(H,{...e.inputProps})})}),Wt="_domainCard_fehdk_17",At="_selected_fehdk_26",Ft="_imageWrapper_fehdk_38",Qt="_image_fehdk_38",qt="_title_fehdk_62",Vt="_label_fehdk_79",Ut="_cr_fehdk_84",_={domainCard:Wt,selected:At,imageWrapper:Ft,image:Qt,title:qt,label:Vt,cr:Ut},Sr=f(function({templatesControl:e}){const t=e.value?.[0]||"";return n.jsxs(n.Fragment,{children:[n.jsx(p.Item,{...e.itemProps}),n.jsx(U,{children:e.options.map(s=>n.jsx(T,{xs:12,sm:12,md:6,lg:12,xxl:8,children:n.jsx(Xt,{domain:s,isSelected:s.id===t,onSelect:e.onChange})},s.id))})]})}),Yt=f(function({domain:e}){return n.jsx("div",{className:_.imageWrapper,children:n.jsx(at,{className:_.image,src:e.image,alt:e.title,preview:!1})})}),Gt=f(function({domain:e}){return n.jsx(ue.Meta,{title:n.jsx("a",{onClick:t=>t.stopPropagation(),className:_.title,href:`https://${e.domain}`,target:"__blank",children:e.title}),description:n.jsxs(ct,{gap:"xs",align:"center",children:[n.jsx(d.Text,{type:"secondary",className:_.label,children:"CR:"}),n.jsx(d.Text,{type:"success",strong:!0,className:_.cr,children:e.cr>=0?`${e.cr}%`:"—"})]})})}),Xt=f(function({domain:e,isSelected:t,onSelect:s}){const i=()=>{s(e.id)};return n.jsx(ue,{size:"small",hoverable:!0,className:`${_.domainCard} ${t?_.selected:""}`,onClick:i,cover:n.jsx(Yt,{domain:e}),children:n.jsx(Gt,{domain:e})})}),W=function({label:e,tooltip:t,placeholder:s,inputProps:i,itemProps:o}){return n.jsx(p.Item,{label:e,tooltip:t,...o,children:n.jsx(b,{...i,placeholder:s})})},Jt={facebook:"form.analytics.facebook",google:"form.analytics.google",yandex:"form.analytics.yandex",mail:"form.analytics.mail"},R=f(function({model:e,serviceKey:t,isOnlyPage:s=!1}){const{t:i}=de("campaign"),o=i(Jt[t]);return s?n.jsx(W,{label:`${o} (${i("form.analyticsLabels.page")})`,tooltip:`${o} ${i("form.analyticsLabels.pageTooltip")}`,placeholder:o,inputProps:e.controls.pageSnippets[t].inputProps,itemProps:e.controls.pageSnippets[t].itemProps}):n.jsxs(U,{gutter:12,children:[n.jsx(T,{xs:24,sm:12,lg:24,xl:12,children:n.jsx(W,{label:`${o}`,tooltip:`${o} ${i("form.analyticsLabels.pageTooltip")}`,placeholder:o,inputProps:e.controls.pageSnippets[t].inputProps,itemProps:e.controls.pageSnippets[t].itemProps})}),n.jsx(T,{xs:24,sm:12,lg:24,xl:12,children:n.jsx(W,{label:`${o} (${i("form.analyticsLabels.thankYou")})`,tooltip:`${o} ${i("form.analyticsLabels.thankYouTooltip")}`,placeholder:`${o} (${i("form.analyticsLabels.thankYou")})`,inputProps:e.controls.thankYouPageSnippets[t].inputProps,itemProps:e.controls.thankYouPageSnippets[t].itemProps})})]})}),Zt=f(function({model:e}){const{t}=de("campaign"),s=e.controls.hostname,i=o=>{s.setIsCustom(o)};return n.jsxs(n.Fragment,{children:[n.jsx(lt,{checked:s.isCustom,onChange:o=>i(o.target.checked),style:{marginBottom:12},children:t("form.ownDomainCheckbox")}),s.isCustom?n.jsxs(n.Fragment,{children:[n.jsx(p.Item,{...s.itemProps,label:t("form.ownDomain"),children:n.jsx(b,{...s.custom.inputProps,placeholder:"subdomain.example.com",disabled:!s.isCustom})}),n.jsx(Y,{style:{marginBottom:24},description:n.jsx(d.Paragraph,{type:"secondary",style:{marginBottom:0,maxWidth:"80ch"},children:t("form.ownDomainInstruction")})})]}):n.jsx(p.Item,{...s.itemProps,label:t("form.hostname.label"),tooltip:t("form.hostname.tooltip"),children:n.jsxs(ut.Compact,{block:!0,children:[n.jsx(b,{...s.subdomain.inputProps,placeholder:t("form.hostname.subdomainPlaceholder"),style:{width:"50%"},disabled:s.isCustom}),n.jsx(H,{...s.domain.inputProps,placeholder:t("form.hostname.domainPlaceholder"),style:{width:"50%"},disabled:s.isCustom})]})})]})}),wr=f(function({model:e,isTransit:t}){return n.jsx(n.Fragment,{children:n.jsxs(p,{layout:"vertical",children:[n.jsx(Zt,{model:e}),n.jsx(R,{isOnlyPage:t,model:e,serviceKey:"facebook"}),n.jsx(R,{isOnlyPage:t,model:e,serviceKey:"google"}),n.jsx(R,{isOnlyPage:t,model:e,serviceKey:"yandex"}),n.jsx(R,{isOnlyPage:t,model:e,serviceKey:"mail"})]})})});export{Y as A,vr as C,Pr as D,$r as L,Ir as O,br as R,_r as T,yr as U,jr as a,Cr as b,wr as c,Sr as d};
