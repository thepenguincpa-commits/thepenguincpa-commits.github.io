import{r as c,I as b,_ as y,n as R,F as H,o as N,R as S,u as K,j as s,d as v,a$ as z,b8 as g}from"./index.D0ZL9dlq.js";import{u as G}from"./useStore.rIWB3VHp.js";import{L as d,s as r,b as L,R as O}from"./LayoutContainer.D5vzTIRK.js";import{M as I}from"./index.qEyMnBBk.js";import{B as C}from"./button.OEP3CgYZ.js";var A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"},E=function(t,e){return c.createElement(b,y({},t,{ref:e,icon:A}))},V=c.forwardRef(E),F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"},$=function(t,e){return c.createElement(b,y({},t,{ref:e,icon:F}))},P=c.forwardRef($),U=Object.defineProperty,T=(o,t,e)=>t in o?U(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,h=(o,t,e)=>T(o,typeof t!="symbol"?t+"":t,e);class W{constructor(){h(this,"isMini",!1),h(this,"isBackdropVisible",!1),h(this,"isGone",!0),R(this,{timeout:!1,isBackdropVisible:H},{autoBind:!0})}close(){this.isGone=!0,this.isBackdropVisible=!1}open(){this.isGone=!1,this.isBackdropVisible=!0}toggleSidebarMini(t){this.isGone?this.isMini=t:this.close()}toggleLayout(){this.close()}toggleSidebar(){this.isGone?this.open():this.close()}}const D={token:g,components:{Layout:{siderBg:"#001529",triggerBg:"#001529",triggerHeight:56},Menu:{darkItemHoverBg:g.colorBgElevated}},cssVar:{key:"dark-sider"}},Z=N(function({container:t="fluid",...e}){const i=G(()=>new W,[]),[x,f]=S.useState(!1),m=c.useRef(null);c.useEffect(()=>{const a=m.current,u=new IntersectionObserver(([n])=>{n.boundingClientRect.top<=0&&n.intersectionRatio<1?f(!0):f(!1)},{threshold:[1]});return a&&u.observe(a),()=>u.disconnect()},[]);const p=K().router.state,{menuKeys:k,menuGroupKeys:M}=c.useMemo(()=>{const a=e.menu.map(n=>n?.key).filter(Boolean);return{menuKeys:e.menu.reduce((n,l)=>{if(l&&(l.key&&n.push(l.key),"children"in l&&Array.isArray(l.children))){const _=l.children.map(w=>w?.key).filter(Boolean);n.push(..._)}return n},[]),menuGroupKeys:a}},[e.menu]),j=k.filter(a=>p.location.pathname.startsWith(a)),B=M.filter(a=>p.location.pathname.startsWith(a));return s.jsxs(d,{className:v(r.wrapper,r[t],{[r["wrapper__sider-gone"]]:i.isGone,[r["wrapper__header-sticky"]]:x}),hasSider:!0,children:[s.jsx(z,{theme:D,children:s.jsxs(d.Sider,{collapsible:!0,collapsed:i.isMini,onCollapse:i.toggleSidebarMini,className:r.sider__wrapper,trigger:s.jsx("div",{className:r.trigger__wrapper,children:s.jsxs("div",{className:r.trigger,children:[!i.isMini&&s.jsx(L,{}),i.isMini&&s.jsx(O,{})]})}),width:"var(--layout-sider-width)",children:[s.jsx("div",{className:r.logo}),s.jsx("div",{className:r.sider,children:s.jsx(I,{theme:"dark",mode:"inline",items:e.menu,defaultOpenKeys:B,selectedKeys:j,onClick:()=>{i.close()}})})]})}),s.jsxs(d,{children:[s.jsxs(d.Header,{ref:m,className:r.header,children:[s.jsx(C,{type:"text",icon:i.isGone?s.jsx(P,{}):s.jsx(V,{}),onClick:i.toggleSidebar,className:r.collapseBtn}),e.header]}),e.children,e.footer&&s.jsx(d.Footer,{className:r.footer,children:e.footer})]}),s.jsx("div",{className:v(r.backdrop,{[r.backdrop_visible]:i.isBackdropVisible}),onClick:i.close},"backdrop")]})});export{Z as A};
